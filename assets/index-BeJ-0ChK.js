(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();const Wd=!1,Jd=(r,t)=>r===t,he=Symbol("solid-proxy"),Qd=typeof Proxy=="function",Os=Symbol("solid-track"),kt={equals:Jd};let ah=ch;const Ee=1,Nt=2,sh={owned:null,cleanups:null,context:null,owner:null};var $=null;let mr=null,Zd=null,k=null,G=null,me=null,Jt=0;function Mt(r,t){const e=k,n=$,i=r.length===0,a=t===void 0?n:t,s=i?sh:{owned:null,cleanups:null,context:a?a.context:null,owner:a},o=i?r:()=>r(()=>de(()=>dt(s)));$=s,k=null;try{return tt(o,!0)}finally{k=e,$=n}}function Ks(r,t){t=t?Object.assign({},kt,t):kt;const e={value:r,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(e.value)),uh(e,i));return[oh.bind(e),n]}function K(r,t,e){const n=Gs(r,t,!1,Ee);gt(n)}function Xd(r,t,e){ah=av;const n=Gs(r,t,!1,Ee);n.user=!0,me?me.push(n):gt(n)}function Je(r,t,e){e=e?Object.assign({},kt,e):kt;const n=Gs(r,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=e.equals||void 0,gt(n),oh.bind(n)}function ev(r){return tt(r,!1)}function de(r){if(k===null)return r();const t=k;k=null;try{return r()}finally{k=t}}function tv(r){Xd(()=>de(r))}function rv(r){return $===null||($.cleanups===null?$.cleanups=[r]:$.cleanups.push(r)),r}function Ps(){return k}function oh(){if(this.sources&&this.state)if(this.state===Ee)gt(this);else{const r=G;G=null,tt(()=>jt(this),!1),G=r}if(k){const r=this.observers?this.observers.length:0;k.sources?(k.sources.push(this),k.sourceSlots.push(r)):(k.sources=[this],k.sourceSlots=[r]),this.observers?(this.observers.push(k),this.observerSlots.push(k.sources.length-1)):(this.observers=[k],this.observerSlots=[k.sources.length-1])}return this.value}function uh(r,t,e){let n=r.value;return(!r.comparator||!r.comparator(n,t))&&(r.value=t,r.observers&&r.observers.length&&tt(()=>{for(let i=0;i<r.observers.length;i+=1){const a=r.observers[i],s=mr&&mr.running;s&&mr.disposed.has(a),(s?!a.tState:!a.state)&&(a.pure?G.push(a):me.push(a),a.observers&&lh(a)),s||(a.state=Ee)}if(G.length>1e6)throw G=[],new Error},!1)),t}function gt(r){if(!r.fn)return;dt(r);const t=Jt;nv(r,r.value,t)}function nv(r,t,e){let n;const i=$,a=k;k=$=r;try{n=r.fn(t)}catch(s){return r.pure&&(r.state=Ee,r.owned&&r.owned.forEach(dt),r.owned=null),r.updatedAt=e+1,fh(s)}finally{k=a,$=i}(!r.updatedAt||r.updatedAt<=e)&&(r.updatedAt!=null&&"observers"in r?uh(r,n):r.value=n,r.updatedAt=e)}function Gs(r,t,e,n=Ee,i){const a={fn:r,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:$,context:$?$.context:null,pure:e};return $===null||$!==sh&&($.owned?$.owned.push(a):$.owned=[a]),a}function Dt(r){if(r.state===0)return;if(r.state===Nt)return jt(r);if(r.suspense&&de(r.suspense.inFallback))return r.suspense.effects.push(r);const t=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<Jt);)r.state&&t.push(r);for(let e=t.length-1;e>=0;e--)if(r=t[e],r.state===Ee)gt(r);else if(r.state===Nt){const n=G;G=null,tt(()=>jt(r,t[0]),!1),G=n}}function tt(r,t){if(G)return r();let e=!1;t||(G=[]),me?e=!0:me=[],Jt++;try{const n=r();return iv(e),n}catch(n){e||(me=null),G=null,fh(n)}}function iv(r){if(G&&(ch(G),G=null),r)return;const t=me;me=null,t.length&&tt(()=>ah(t),!1)}function ch(r){for(let t=0;t<r.length;t++)Dt(r[t])}function av(r){let t,e=0;for(t=0;t<r.length;t++){const n=r[t];n.user?r[e++]=n:Dt(n)}for(t=0;t<e;t++)Dt(r[t])}function jt(r,t){r.state=0;for(let e=0;e<r.sources.length;e+=1){const n=r.sources[e];if(n.sources){const i=n.state;i===Ee?n!==t&&(!n.updatedAt||n.updatedAt<Jt)&&Dt(n):i===Nt&&jt(n,t)}}}function lh(r){for(let t=0;t<r.observers.length;t+=1){const e=r.observers[t];e.state||(e.state=Nt,e.pure?G.push(e):me.push(e),e.observers&&lh(e))}}function dt(r){let t;if(r.sources)for(;r.sources.length;){const e=r.sources.pop(),n=r.sourceSlots.pop(),i=e.observers;if(i&&i.length){const a=i.pop(),s=e.observerSlots.pop();n<i.length&&(a.sourceSlots[s]=n,i[n]=a,e.observerSlots[n]=s)}}if(r.tOwned){for(t=r.tOwned.length-1;t>=0;t--)dt(r.tOwned[t]);delete r.tOwned}if(r.owned){for(t=r.owned.length-1;t>=0;t--)dt(r.owned[t]);r.owned=null}if(r.cleanups){for(t=r.cleanups.length-1;t>=0;t--)r.cleanups[t]();r.cleanups=null}r.state=0}function sv(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function fh(r,t=$){throw sv(r)}const ov=Symbol("fallback");function To(r){for(let t=0;t<r.length;t++)r[t]()}function uv(r,t,e={}){let n=[],i=[],a=[],s=0,o=t.length>1?[]:null;return rv(()=>To(a)),()=>{let u=r()||[],c=u.length,f,l;return u[Os],de(()=>{let d,v,p,y,m,g,b,_,T;if(c===0)s!==0&&(To(a),a=[],n=[],i=[],s=0,o&&(o=[])),e.fallback&&(n=[ov],i[0]=Mt(R=>(a[0]=R,e.fallback())),s=1);else if(s===0){for(i=new Array(c),l=0;l<c;l++)n[l]=u[l],i[l]=Mt(h);s=c}else{for(p=new Array(c),y=new Array(c),o&&(m=new Array(c)),g=0,b=Math.min(s,c);g<b&&n[g]===u[g];g++);for(b=s-1,_=c-1;b>=g&&_>=g&&n[b]===u[_];b--,_--)p[_]=i[b],y[_]=a[b],o&&(m[_]=o[b]);for(d=new Map,v=new Array(_+1),l=_;l>=g;l--)T=u[l],f=d.get(T),v[l]=f===void 0?-1:f,d.set(T,l);for(f=g;f<=b;f++)T=n[f],l=d.get(T),l!==void 0&&l!==-1?(p[l]=i[f],y[l]=a[f],o&&(m[l]=o[f]),l=v[l],d.set(T,l)):a[f]();for(l=g;l<c;l++)l in p?(i[l]=p[l],a[l]=y[l],o&&(o[l]=m[l],o[l](l))):i[l]=Mt(h);i=i.slice(0,s=c),n=u.slice(0)}return i});function h(d){if(a[l]=d,o){const[v,p]=Ks(l);return o[l]=p,t(u[l],v)}return t(u[l])}}}function _e(r,t){return de(()=>r(t||{}))}function xt(){return!0}const Io={get(r,t,e){return t===he?e:r.get(t)},has(r,t){return t===he?!0:r.has(t)},set:xt,deleteProperty:xt,getOwnPropertyDescriptor(r,t){return{configurable:!0,enumerable:!0,get(){return r.get(t)},set:xt,deleteProperty:xt}},ownKeys(r){return r.keys()}};function cv(r,...t){const e=t.length;if(Qd&&he in r){const i=e>1?t.flat():t[0],a=t.map(s=>new Proxy({get(o){return s.includes(o)?r[o]:void 0},has(o){return s.includes(o)&&o in r},keys(){return s.filter(o=>o in r)}},Io));return a.push(new Proxy({get(s){return i.includes(s)?void 0:r[s]},has(s){return i.includes(s)?!1:s in r},keys(){return Object.keys(r).filter(s=>!i.includes(s))}},Io)),a}const n=[];for(let i=0;i<=e;i++)n[i]={};for(const i of Object.getOwnPropertyNames(r)){let a=e;for(let u=0;u<t.length;u++)if(t[u].includes(i)){a=u;break}const s=Object.getOwnPropertyDescriptor(r,i);!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable?n[a][i]=s.value:Object.defineProperty(n[a],i,s)}return n}const lv=r=>`Stale read from <${r}>.`;function fv(r){const t="fallback"in r&&{fallback:()=>r.fallback};return Je(uv(()=>r.each,r.children,t||void 0))}function Ys(r){const t=r.keyed,e=Je(()=>r.when,void 0,void 0),n=t?e:Je(e,void 0,{equals:(i,a)=>!i==!a});return Je(()=>{const i=n();if(i){const a=r.children;return typeof a=="function"&&a.length>0?de(()=>a(t?i:()=>{if(!de(n))throw lv("Show");return e()})):a}return r.fallback},void 0,void 0)}const hv=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],dv=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...hv]),vv=new Set(["innerHTML","textContent","innerText","children"]),pv=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),yv=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function gv(r,t){const e=yv[r];return typeof e=="object"?e[t]?e.$:void 0:e}const mv=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),_v=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),bv={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Av(r,t,e){let n=e.length,i=t.length,a=n,s=0,o=0,u=t[i-1].nextSibling,c=null;for(;s<i||o<a;){if(t[s]===e[o]){s++,o++;continue}for(;t[i-1]===e[a-1];)i--,a--;if(i===s){const f=a<n?o?e[o-1].nextSibling:e[a-o]:u;for(;o<a;)r.insertBefore(e[o++],f)}else if(a===o)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===e[a-1]&&e[o]===t[i-1]){const f=t[--i].nextSibling;r.insertBefore(e[o++],t[s++].nextSibling),r.insertBefore(e[--a],f),t[i]=e[a]}else{if(!c){c=new Map;let l=o;for(;l<a;)c.set(e[l],l++)}const f=c.get(t[s]);if(f!=null)if(o<f&&f<a){let l=s,h=1,d;for(;++l<i&&l<a&&!((d=c.get(t[l]))==null||d!==f+h);)h++;if(h>f-o){const v=t[s];for(;o<f;)r.insertBefore(e[o++],v)}else r.replaceChild(e[o++],t[s++])}else s++;else t[s++].remove()}}}const Co="_$DX_DELEGATE";function wv(r,t,e,n={}){let i;return Mt(a=>{i=a,t===document?r():te(t,r(),t.firstChild?null:void 0,e)},n.owner),()=>{i(),t.textContent=""}}function pe(r,t,e,n){let i;const a=()=>{const o=document.createElement("template");return o.innerHTML=r,o.content.firstChild},s=()=>(i||(i=a())).cloneNode(!0);return s.cloneNode=s,s}function Qt(r,t=window.document){const e=t[Co]||(t[Co]=new Set);for(let n=0,i=r.length;n<i;n++){const a=r[n];e.has(a)||(e.add(a),t.addEventListener(a,Ov))}}function xs(r,t,e){e==null?r.removeAttribute(t):r.setAttribute(t,e)}function Rv(r,t,e,n){n==null?r.removeAttributeNS(t,e):r.setAttributeNS(t,e,n)}function Sv(r,t,e){e?r.setAttribute(t,""):r.removeAttribute(t)}function F(r,t){t==null?r.removeAttribute("class"):r.className=t}function qv(r,t,e,n){if(n)Array.isArray(e)?(r[`$$${t}`]=e[0],r[`$$${t}Data`]=e[1]):r[`$$${t}`]=e;else if(Array.isArray(e)){const i=e[0];r.addEventListener(t,e[0]=a=>i.call(r,e[1],a))}else r.addEventListener(t,e,typeof e!="function"&&e)}function hh(r,t,e={}){const n=Object.keys(t||{}),i=Object.keys(e);let a,s;for(a=0,s=i.length;a<s;a++){const o=i[a];!o||o==="undefined"||t[o]||(Fo(r,o,!1),delete e[o])}for(a=0,s=n.length;a<s;a++){const o=n[a],u=!!t[o];!o||o==="undefined"||e[o]===u||!u||(Fo(r,o,!0),e[o]=u)}return e}function Tv(r,t,e){if(!t)return e?xs(r,"style"):t;const n=r.style;if(typeof t=="string")return n.cssText=t;typeof e=="string"&&(n.cssText=e=void 0),e||(e={}),t||(t={});let i,a;for(a in e)t[a]==null&&n.removeProperty(a),delete e[a];for(a in t)i=t[a],i!==e[a]&&(n.setProperty(a,i),e[a]=i);return e}function Iv(r,t={},e,n){const i={};return K(()=>i.children=vt(r,t.children,i.children)),K(()=>typeof t.ref=="function"&&Cv(t.ref,r)),K(()=>Fv(r,t,e,!0,i,!0)),i}function Cv(r,t,e){return de(()=>r(t,e))}function te(r,t,e,n){if(e!==void 0&&!n&&(n=[]),typeof t!="function")return vt(r,t,n,e);K(i=>vt(r,t(),i,e),n)}function Fv(r,t,e,n,i={},a=!1){t||(t={});for(const s in i)if(!(s in t)){if(s==="children")continue;i[s]=Eo(r,s,null,i[s],e,a,t)}for(const s in t){if(s==="children")continue;const o=t[s];i[s]=Eo(r,s,o,i[s],e,a,t)}}function Ev(r){return r.toLowerCase().replace(/-([a-z])/g,(t,e)=>e.toUpperCase())}function Fo(r,t,e){const n=t.trim().split(/\s+/);for(let i=0,a=n.length;i<a;i++)r.classList.toggle(n[i],e)}function Eo(r,t,e,n,i,a,s){let o,u,c,f,l;if(t==="style")return Tv(r,e,n);if(t==="classList")return hh(r,e,n);if(e===n)return n;if(t==="ref")a||e(r);else if(t.slice(0,3)==="on:"){const h=t.slice(3);n&&r.removeEventListener(h,n,typeof n!="function"&&n),e&&r.addEventListener(h,e,typeof e!="function"&&e)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);n&&r.removeEventListener(h,n,!0),e&&r.addEventListener(h,e,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),d=mv.has(h);if(!d&&n){const v=Array.isArray(n)?n[0]:n;r.removeEventListener(h,v)}(d||e)&&(qv(r,h,e,d),d&&Qt([h]))}else if(t.slice(0,5)==="attr:")xs(r,t.slice(5),e);else if(t.slice(0,5)==="bool:")Sv(r,t.slice(5),e);else if((l=t.slice(0,5)==="prop:")||(c=vv.has(t))||!i&&((f=gv(t,r.tagName))||(u=dv.has(t)))||(o=r.nodeName.includes("-")||"is"in s))l&&(t=t.slice(5),u=!0),t==="class"||t==="className"?F(r,e):o&&!u&&!c?r[Ev(t)]=e:r[f||t]=e;else{const h=i&&t.indexOf(":")>-1&&bv[t.split(":")[0]];h?Rv(r,h,t,e):xs(r,pv[t]||t,e)}return e}function Ov(r){let t=r.target;const e=`$$${r.type}`,n=r.target,i=r.currentTarget,a=u=>Object.defineProperty(r,"target",{configurable:!0,value:u}),s=()=>{const u=t[e];if(u&&!t.disabled){const c=t[`${e}Data`];if(c!==void 0?u.call(t,c,r):u.call(t,r),r.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(r.target)&&a(t.host),!0},o=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return t||document}}),r.composedPath){const u=r.composedPath();a(u[0]);for(let c=0;c<u.length-2&&(t=u[c],!!s());c++){if(t._$host){t=t._$host,o();break}if(t.parentNode===i)break}}else o();a(n)}function vt(r,t,e,n,i){for(;typeof e=="function";)e=e();if(t===e)return e;const a=typeof t,s=n!==void 0;if(r=s&&e[0]&&e[0].parentNode||r,a==="string"||a==="number"){if(a==="number"&&(t=t.toString(),t===e))return e;if(s){let o=e[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),e=Ue(r,e,n,o)}else e!==""&&typeof e=="string"?e=r.firstChild.data=t:e=r.textContent=t}else if(t==null||a==="boolean")e=Ue(r,e,n);else{if(a==="function")return K(()=>{let o=t();for(;typeof o=="function";)o=o();e=vt(r,o,e,n)}),()=>e;if(Array.isArray(t)){const o=[],u=e&&Array.isArray(e);if(Ms(o,t,e,i))return K(()=>e=vt(r,o,e,n,!0)),()=>e;if(o.length===0){if(e=Ue(r,e,n),s)return e}else u?e.length===0?Oo(r,o,n):Av(r,e,o):(e&&Ue(r),Oo(r,o));e=o}else if(t.nodeType){if(Array.isArray(e)){if(s)return e=Ue(r,e,n,t);Ue(r,e,null,t)}else e==null||e===""||!r.firstChild?r.appendChild(t):r.replaceChild(t,r.firstChild);e=t}}return e}function Ms(r,t,e,n){let i=!1;for(let a=0,s=t.length;a<s;a++){let o=t[a],u=e&&e[r.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)r.push(o);else if(Array.isArray(o))i=Ms(r,o,u)||i;else if(c==="function")if(n){for(;typeof o=="function";)o=o();i=Ms(r,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||i}else r.push(o),i=!0;else{const f=String(o);u&&u.nodeType===3&&u.data===f?r.push(u):r.push(document.createTextNode(f))}}return i}function Oo(r,t,e=null){for(let n=0,i=t.length;n<i;n++)r.insertBefore(t[n],e)}function Ue(r,t,e,n){if(e===void 0)return r.textContent="";const i=n||document.createTextNode("");if(t.length){let a=!1;for(let s=t.length-1;s>=0;s--){const o=t[s];if(i!==o){const u=o.parentNode===r;!a&&!s?u?r.replaceChild(i,o):r.insertBefore(i,e):u&&o.remove()}else a=!0}}else r.insertBefore(i,e);return[i]}const Pv="http://www.w3.org/2000/svg";function xv(r,t=!1,e=void 0){return t?document.createElementNS(Pv,r):document.createElement(r,{is:e})}function Mv(r,t){const e=Je(r);return Je(()=>{const n=e();switch(typeof n){case"function":return de(()=>n(t));case"string":const i=_v.has(n),a=xv(n,i,de(()=>t.is));return Iv(a,t,i),a}})}function kv(r){const[,t]=cv(r,["component"]);return Mv(()=>r.component,t)}const ks=Symbol("store-raw"),Qe=Symbol("store-node"),ge=Symbol("store-has"),dh=Symbol("store-self");function vh(r){let t=r[he];if(!t&&(Object.defineProperty(r,he,{value:t=new Proxy(r,jv)}),!Array.isArray(r))){const e=Object.keys(r),n=Object.getOwnPropertyDescriptors(r);for(let i=0,a=e.length;i<a;i++){const s=e[i];n[s].get&&Object.defineProperty(r,s,{enumerable:n[s].enumerable,get:n[s].get.bind(t)})}}return t}function Lt(r){let t;return r!=null&&typeof r=="object"&&(r[he]||!(t=Object.getPrototypeOf(r))||t===Object.prototype||Array.isArray(r))}function pt(r,t=new Set){let e,n,i,a;if(e=r!=null&&r[ks])return e;if(!Lt(r)||t.has(r))return r;if(Array.isArray(r)){Object.isFrozen(r)?r=r.slice(0):t.add(r);for(let s=0,o=r.length;s<o;s++)i=r[s],(n=pt(i,t))!==i&&(r[s]=n)}else{Object.isFrozen(r)?r=Object.assign({},r):t.add(r);const s=Object.keys(r),o=Object.getOwnPropertyDescriptors(r);for(let u=0,c=s.length;u<c;u++)a=s[u],!o[a].get&&(i=r[a],(n=pt(i,t))!==i&&(r[a]=n))}return r}function $t(r,t){let e=r[t];return e||Object.defineProperty(r,t,{value:e=Object.create(null)}),e}function yt(r,t,e){if(r[t])return r[t];const[n,i]=Ks(e,{equals:!1,internal:!0});return n.$=i,r[t]=n}function Nv(r,t){const e=Reflect.getOwnPropertyDescriptor(r,t);return!e||e.get||!e.configurable||t===he||t===Qe||(delete e.value,delete e.writable,e.get=()=>r[he][t]),e}function ph(r){Ps()&&yt($t(r,Qe),dh)()}function Dv(r){return ph(r),Reflect.ownKeys(r)}const jv={get(r,t,e){if(t===ks)return r;if(t===he)return e;if(t===Os)return ph(r),e;const n=$t(r,Qe),i=n[t];let a=i?i():r[t];if(t===Qe||t===ge||t==="__proto__")return a;if(!i){const s=Object.getOwnPropertyDescriptor(r,t);Ps()&&(typeof a!="function"||r.hasOwnProperty(t))&&!(s&&s.get)&&(a=yt(n,t,a)())}return Lt(a)?vh(a):a},has(r,t){return t===ks||t===he||t===Os||t===Qe||t===ge||t==="__proto__"?!0:(Ps()&&yt($t(r,ge),t)(),t in r)},set(){return!0},deleteProperty(){return!0},ownKeys:Dv,getOwnPropertyDescriptor:Nv};function zt(r,t,e,n=!1){if(!n&&r[t]===e)return;const i=r[t],a=r.length;e===void 0?(delete r[t],r[ge]&&r[ge][t]&&i!==void 0&&r[ge][t].$()):(r[t]=e,r[ge]&&r[ge][t]&&i===void 0&&r[ge][t].$());let s=$t(r,Qe),o;if((o=yt(s,t,i))&&o.$(()=>e),Array.isArray(r)&&r.length!==a){for(let u=r.length;u<a;u++)(o=s[u])&&o.$();(o=yt(s,"length",a))&&o.$(r.length)}(o=s[dh])&&o.$()}function yh(r,t){const e=Object.keys(t);for(let n=0;n<e.length;n+=1){const i=e[n];zt(r,i,t[i])}}function Lv(r,t){if(typeof t=="function"&&(t=t(r)),t=pt(t),Array.isArray(t)){if(r===t)return;let e=0,n=t.length;for(;e<n;e++){const i=t[e];r[e]!==i&&zt(r,e,i)}zt(r,"length",n)}else yh(r,t)}function ot(r,t,e=[]){let n,i=r;if(t.length>1){n=t.shift();const s=typeof n,o=Array.isArray(r);if(Array.isArray(n)){for(let u=0;u<n.length;u++)ot(r,[n[u]].concat(t),e);return}else if(o&&s==="function"){for(let u=0;u<r.length;u++)n(r[u],u)&&ot(r,[u].concat(t),e);return}else if(o&&s==="object"){const{from:u=0,to:c=r.length-1,by:f=1}=n;for(let l=u;l<=c;l+=f)ot(r,[l].concat(t),e);return}else if(t.length>1){ot(r[n],t,[n].concat(e));return}i=r[n],e=[n].concat(e)}let a=t[0];typeof a=="function"&&(a=a(i,e),a===i)||n===void 0&&a==null||(a=pt(a),n===void 0||Lt(i)&&Lt(a)&&!Array.isArray(a)?yh(i,a):zt(r,n,a))}function $v(...[r,t]){const e=pt(r||{}),n=Array.isArray(e),i=vh(e);function a(...s){ev(()=>{n&&s.length===1?Lv(e,s[0]):ot(e,s)})}return[i,a]}var Xe=(r=>(r.TodoList="todoList",r.Profile="profile",r))(Xe||{});const zv="/user",Hv="/todos",Bv="/create",Uv="/change",Kv=r=>`/delete/${r}`,Gv=async()=>{const r=await fetch(zv);if(!r.ok)throw new Error("Auth error");return r.json()},Yv=async()=>(await fetch(Hv)).json(),Vv=async r=>(await fetch(Bv,{method:"POST",body:JSON.stringify({name:r})})).json(),Wv=async r=>(await fetch(Uv,{method:"POST",body:JSON.stringify(r)})).json(),Jv=async r=>(await fetch(Kv(r),{method:"POST"})).json(),[le,ke]=$v({screen:Xe.TodoList,user:null,todos:[],isLoading:!1,error:null}),gh=r=>{ke("screen",r)},Qv=async()=>{ke({isLoading:!0,error:null});try{const[r,t]=await Promise.all([Gv(),Yv()]);ke({user:r,todos:t,isLoading:!1})}catch{ke({error:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",isLoading:!1})}},Zv=async r=>{try{const t=await Vv(r);ke("todos",t)}catch(t){console.error(t)}},Xv=async(r,t)=>{try{const e=await Wv({id:r,isComplete:t});ke("todos",e)}catch(e){console.error(e)}},ep=async r=>{try{const t=await Jv(r);ke("todos",t)}catch(t){console.error(t)}},tp="_taskItem_12ihf_1",rp="_deleteButton_12ihf_12",np="_taskText_12ihf_16",ip="_completed_12ihf_22",st={taskItem:tp,deleteButton:rp,taskText:np,completed:ip};var ap=pe("<li><input type=checkbox><span></span><button>–£–¥–∞–ª–∏—Ç—å");const sp=r=>{const t=()=>{Xv(r.task.id,!r.task.isComplete)},e=()=>{ep(r.task.id)};return(()=>{var n=ap(),i=n.firstChild,a=i.nextSibling,s=a.nextSibling;return i.addEventListener("change",t),te(a,()=>r.task.name),s.$$click=e,K(o=>{var u=st.taskItem,c=st.checkbox,f=st.taskText,l={[st.completed]:r.task.isComplete},h=st.deleteButton;return u!==o.e&&F(n,o.e=u),c!==o.t&&F(i,o.t=c),f!==o.a&&F(a,o.a=f),o.o=hh(a,l,o.o),h!==o.i&&F(s,o.i=h),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),K(()=>i.checked=r.task.isComplete),n})()};Qt(["click"]);const op="_userWidget_145w7_2",up="_userName_145w7_16",cp="_userAvatar_145w7_22",_r={userWidget:op,userName:up,userAvatar:cp};var lp=pe("<div><span></span><div>");const fp=()=>{const r=t=>t?t.slice(0,2).toUpperCase():"??";return _e(Ys,{get when(){return le.user},get children(){var t=lp(),e=t.firstChild,n=e.nextSibling;return te(e,()=>le.user?.name),te(n,()=>r(le.user.login)),K(i=>{var a=_r.userWidget,s=_r.userName,o=_r.userAvatar;return a!==i.e&&F(t,i.e=a),s!==i.t&&F(e,i.t=s),o!==i.a&&F(n,i.a=o),i},{e:void 0,t:void 0,a:void 0}),t}})},hp="_container_xbwru_1",dp="_header_xbwru_7",vp="_addSection_xbwru_20",pp="_input_xbwru_26",yp="_addButton_xbwru_38",gp="_list_xbwru_51",Ke={container:hp,header:dp,addSection:vp,input:pp,addButton:yp,list:gp};var mp=pe('<div><header><h1>–ú–æ–∏ –∑–∞–¥–∞—á–∏</h1><div></div></header><main><div><input placeholder="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞..."><button>+</button></div><ul>');const _p=()=>{const[r,t]=Ks(""),e=()=>{r().trim()&&(Zv(r()),t(""))};return(()=>{var n=mp(),i=n.firstChild,a=i.firstChild,s=a.nextSibling,o=i.nextSibling,u=o.firstChild,c=u.firstChild,f=c.nextSibling,l=u.nextSibling;return s.$$click=()=>gh(Xe.Profile),te(s,_e(fp,{})),c.$$keydown=h=>h.key==="Enter"&&e(),c.$$input=h=>t(h.currentTarget.value),f.$$click=e,te(l,_e(fv,{get each(){return le.todos},children:h=>_e(sp,{task:h})})),K(h=>{var d=Ke.container,v=Ke.header,p=Ke.addSection,y=Ke.input,m=Ke.addButton,g=Ke.list;return d!==h.e&&F(n,h.e=d),v!==h.t&&F(i,h.t=v),p!==h.a&&F(u,h.a=p),y!==h.o&&F(c,h.o=y),m!==h.i&&F(f,h.i=m),g!==h.n&&F(l,h.n=g),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),K(()=>c.value=r()),n})()};Qt(["click","input","keydown"]);const bp="_screenContainer_10gpx_1",Ap="_backButton_10gpx_7",wp="_card_10gpx_22",Rp="_title_10gpx_29",Sp="_row_10gpx_35",qp="_label_10gpx_41",Tp="_value_10gpx_47",Ip="_code_10gpx_52",Cp="_loading_10gpx_60",W={screenContainer:bp,backButton:Ap,card:wp,title:Rp,row:Sp,label:qp,value:Tp,code:Ip,loading:Cp};var Fp=pe("<div><span>ID:</span><span>"),Ep=pe("<div><span>–ò–º—è:</span><span>"),Op=pe("<div><span>–õ–æ–≥–∏–Ω:</span><span>@"),Pp=pe("<div><button>‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</button><div><h2>üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"),xp=pe("<div>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...");const Mp=()=>(()=>{var r=Pp(),t=r.firstChild,e=t.nextSibling,n=e.firstChild;return t.$$click=()=>gh(Xe.TodoList),te(e,_e(Ys,{get when(){return le.user},get fallback(){return(()=>{var i=xp();return K(()=>F(i,W.loading)),i})()},get children(){return[(()=>{var i=Fp(),a=i.firstChild,s=a.nextSibling;return te(s,()=>le.user?.id),K(o=>{var u=W.row,c=W.label,f=W.code;return u!==o.e&&F(i,o.e=u),c!==o.t&&F(a,o.t=c),f!==o.a&&F(s,o.a=f),o},{e:void 0,t:void 0,a:void 0}),i})(),(()=>{var i=Ep(),a=i.firstChild,s=a.nextSibling;return te(s,()=>le.user?.name),K(o=>{var u=W.row,c=W.label,f=W.value;return u!==o.e&&F(i,o.e=u),c!==o.t&&F(a,o.t=c),f!==o.a&&F(s,o.a=f),o},{e:void 0,t:void 0,a:void 0}),i})(),(()=>{var i=Op(),a=i.firstChild,s=a.nextSibling;return s.firstChild,te(s,()=>le.user?.login,null),K(o=>{var u=W.row,c=W.label,f=W.value;return u!==o.e&&F(i,o.e=u),c!==o.t&&F(a,o.t=c),f!==o.a&&F(s,o.a=f),o},{e:void 0,t:void 0,a:void 0}),i})()]}}),null),K(i=>{var a=W.screenContainer,s=W.backButton,o=W.card,u=W.title;return a!==i.e&&F(r,i.e=a),s!==i.t&&F(t,i.t=s),o!==i.a&&F(e,i.a=o),u!==i.o&&F(n,i.o=u),i},{e:void 0,t:void 0,a:void 0,o:void 0}),r})();Qt(["click"]);const kp={[Xe.TodoList]:_p,[Xe.Profile]:Mp},Np=r=>_e(kv,{get component(){return kp[r.type]}});var Dp=pe("<div class=global-loader>–ó–∞–≥—Ä—É–∑–∫–∞..."),jp=pe("<div class=main-layout>");const Lp=()=>(tv(()=>{Qv()}),(()=>{var r=jp();return te(r,_e(Np,{get type(){return le.screen}}),null),te(r,_e(Ys,{get when(){return le.isLoading},get children(){return Dp()}}),null),r})());var re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var br,Po;function mh(){if(Po)return br;Po=1;var r=typeof re=="object"&&re&&re.Object===Object&&re;return br=r,br}var Ar,xo;function ye(){if(xo)return Ar;xo=1;var r=mh(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=r||t||Function("return this")();return Ar=e,Ar}var wr,Mo;function rt(){if(Mo)return wr;Mo=1;var r=ye(),t=r.Symbol;return wr=t,wr}var Rr,ko;function $p(){if(ko)return Rr;ko=1;var r=rt(),t=Object.prototype,e=t.hasOwnProperty,n=t.toString,i=r?r.toStringTag:void 0;function a(s){var o=e.call(s,i),u=s[i];try{s[i]=void 0;var c=!0}catch{}var f=n.call(s);return c&&(o?s[i]=u:delete s[i]),f}return Rr=a,Rr}var Sr,No;function zp(){if(No)return Sr;No=1;var r=Object.prototype,t=r.toString;function e(n){return t.call(n)}return Sr=e,Sr}var qr,Do;function nt(){if(Do)return qr;Do=1;var r=rt(),t=$p(),e=zp(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?t(o):e(o)}return qr=s,qr}var Tr,jo;function _h(){if(jo)return Tr;jo=1;function r(t,e){return function(n){return t(e(n))}}return Tr=r,Tr}var Ir,Lo;function Vs(){if(Lo)return Ir;Lo=1;var r=_h(),t=r(Object.getPrototypeOf,Object);return Ir=t,Ir}var Cr,$o;function Oe(){if($o)return Cr;$o=1;function r(t){return t!=null&&typeof t=="object"}return Cr=r,Cr}var Fr,zo;function Hp(){if(zo)return Fr;zo=1;var r=nt(),t=Vs(),e=Oe(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,u=s.call(Object);function c(f){if(!e(f)||r(f)!=n)return!1;var l=t(f);if(l===null)return!0;var h=o.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==u}return Fr=c,Fr}var Bp=Hp();const Ns=H(Bp);var Er,Ho;function Ae(){if(Ho)return Er;Ho=1;function r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return Er=r,Er}var Or,Bo;function Ws(){if(Bo)return Or;Bo=1;var r=nt(),t=Ae(),e="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!t(o))return!1;var u=r(o);return u==n||u==i||u==e||u==a}return Or=s,Or}var Up=Ws();const Uo=H(Up);var Pr,Ko;function Kp(){if(Ko)return Pr;Ko=1;var r=ye(),t=r["__core-js_shared__"];return Pr=t,Pr}var xr,Go;function Gp(){if(Go)return xr;Go=1;var r=Kp(),t=(function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function e(n){return!!t&&t in n}return xr=e,xr}var Mr,Yo;function bh(){if(Yo)return Mr;Yo=1;var r=Function.prototype,t=r.toString;function e(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Mr=e,Mr}var kr,Vo;function Yp(){if(Vo)return kr;Vo=1;var r=Ws(),t=Gp(),e=Ae(),n=bh(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,c=o.hasOwnProperty,f=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(h){if(!e(h)||t(h))return!1;var d=r(h)?f:a;return d.test(n(h))}return kr=l,kr}var Nr,Wo;function Vp(){if(Wo)return Nr;Wo=1;function r(t,e){return t?.[e]}return Nr=r,Nr}var Dr,Jo;function De(){if(Jo)return Dr;Jo=1;var r=Yp(),t=Vp();function e(n,i){var a=t(n,i);return r(a)?a:void 0}return Dr=e,Dr}var jr,Qo;function Ah(){if(Qo)return jr;Qo=1;var r=De(),t=(function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch{}})();return jr=t,jr}var Lr,Zo;function Js(){if(Zo)return Lr;Zo=1;var r=Ah();function t(e,n,i){n=="__proto__"&&r?r(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}return Lr=t,Lr}var $r,Xo;function Wp(){if(Xo)return $r;Xo=1;function r(t){return function(e,n,i){for(var a=-1,s=Object(e),o=i(e),u=o.length;u--;){var c=o[t?u:++a];if(n(s[c],c,s)===!1)break}return e}}return $r=r,$r}var zr,eu;function wh(){if(eu)return zr;eu=1;var r=Wp(),t=r();return zr=t,zr}var Hr,tu;function Jp(){if(tu)return Hr;tu=1;function r(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}return Hr=r,Hr}var Br,ru;function Qp(){if(ru)return Br;ru=1;var r=nt(),t=Oe(),e="[object Arguments]";function n(i){return t(i)&&r(i)==e}return Br=n,Br}var Ur,nu;function Zt(){if(nu)return Ur;nu=1;var r=Qp(),t=Oe(),e=Object.prototype,n=e.hasOwnProperty,i=e.propertyIsEnumerable,a=r((function(){return arguments})())?r:function(s){return t(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Ur=a,Ur}var Kr,iu;function ie(){if(iu)return Kr;iu=1;var r=Array.isArray;return Kr=r,Kr}var ut={exports:{}},Gr,au;function Zp(){if(au)return Gr;au=1;function r(){return!1}return Gr=r,Gr}ut.exports;var su;function Xt(){return su||(su=1,(function(r,t){var e=ye(),n=Zp(),i=t&&!t.nodeType&&t,a=i&&!0&&r&&!r.nodeType&&r,s=a&&a.exports===i,o=s?e.Buffer:void 0,u=o?o.isBuffer:void 0,c=u||n;r.exports=c})(ut,ut.exports)),ut.exports}var Yr,ou;function er(){if(ou)return Yr;ou=1;var r=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Yr=e,Yr}var Vr,uu;function Qs(){if(uu)return Vr;uu=1;var r=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}return Vr=t,Vr}var Wr,cu;function Xp(){if(cu)return Wr;cu=1;var r=nt(),t=Qs(),e=Oe(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",c="[object Map]",f="[object Number]",l="[object Object]",h="[object RegExp]",d="[object Set]",v="[object String]",p="[object WeakMap]",y="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",T="[object Int16Array]",R="[object Int32Array]",q="[object Uint8Array]",L="[object Uint8ClampedArray]",O="[object Uint16Array]",Y="[object Uint32Array]",S={};S[g]=S[b]=S[_]=S[T]=S[R]=S[q]=S[L]=S[O]=S[Y]=!0,S[n]=S[i]=S[y]=S[a]=S[m]=S[s]=S[o]=S[u]=S[c]=S[f]=S[l]=S[h]=S[d]=S[v]=S[p]=!1;function B(Q){return e(Q)&&t(Q.length)&&!!S[r(Q)]}return Wr=B,Wr}var Jr,lu;function Zs(){if(lu)return Jr;lu=1;function r(t){return function(e){return t(e)}}return Jr=r,Jr}var ct={exports:{}};ct.exports;var fu;function Xs(){return fu||(fu=1,(function(r,t){var e=mh(),n=t&&!t.nodeType&&t,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,s=a&&e.process,o=(function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}})();r.exports=o})(ct,ct.exports)),ct.exports}var Qr,hu;function eo(){if(hu)return Qr;hu=1;var r=Xp(),t=Zs(),e=Xs(),n=e&&e.isTypedArray,i=n?t(n):r;return Qr=i,Qr}var Zr,du;function Rh(){if(du)return Zr;du=1;var r=Jp(),t=Zt(),e=ie(),n=Xt(),i=er(),a=eo(),s=Object.prototype,o=s.hasOwnProperty;function u(c,f){var l=e(c),h=!l&&t(c),d=!l&&!h&&n(c),v=!l&&!h&&!d&&a(c),p=l||h||d||v,y=p?r(c.length,String):[],m=y.length;for(var g in c)(f||o.call(c,g))&&!(p&&(g=="length"||d&&(g=="offset"||g=="parent")||v&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,m)))&&y.push(g);return y}return Zr=u,Zr}var Xr,vu;function mt(){if(vu)return Xr;vu=1;var r=Object.prototype;function t(e){var n=e&&e.constructor,i=typeof n=="function"&&n.prototype||r;return e===i}return Xr=t,Xr}var en,pu;function ey(){if(pu)return en;pu=1;var r=_h(),t=r(Object.keys,Object);return en=t,en}var tn,yu;function Sh(){if(yu)return tn;yu=1;var r=mt(),t=ey(),e=Object.prototype,n=e.hasOwnProperty;function i(a){if(!r(a))return t(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return tn=i,tn}var rn,gu;function we(){if(gu)return rn;gu=1;var r=Ws(),t=Qs();function e(n){return n!=null&&t(n.length)&&!r(n)}return rn=e,rn}var nn,mu;function Pe(){if(mu)return nn;mu=1;var r=Rh(),t=Sh(),e=we();function n(i){return e(i)?r(i):t(i)}return nn=n,nn}var an,_u;function qh(){if(_u)return an;_u=1;var r=wh(),t=Pe();function e(n,i){return n&&r(n,i,t)}return an=e,an}var sn,bu;function ty(){if(bu)return sn;bu=1;function r(){this.__data__=[],this.size=0}return sn=r,sn}var on,Au;function tr(){if(Au)return on;Au=1;function r(t,e){return t===e||t!==t&&e!==e}return on=r,on}var un,wu;function rr(){if(wu)return un;wu=1;var r=tr();function t(e,n){for(var i=e.length;i--;)if(r(e[i][0],n))return i;return-1}return un=t,un}var cn,Ru;function ry(){if(Ru)return cn;Ru=1;var r=rr(),t=Array.prototype,e=t.splice;function n(i){var a=this.__data__,s=r(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():e.call(a,s,1),--this.size,!0}return cn=n,cn}var ln,Su;function ny(){if(Su)return ln;Su=1;var r=rr();function t(e){var n=this.__data__,i=r(n,e);return i<0?void 0:n[i][1]}return ln=t,ln}var fn,qu;function iy(){if(qu)return fn;qu=1;var r=rr();function t(e){return r(this.__data__,e)>-1}return fn=t,fn}var hn,Tu;function ay(){if(Tu)return hn;Tu=1;var r=rr();function t(e,n){var i=this.__data__,a=r(i,e);return a<0?(++this.size,i.push([e,n])):i[a][1]=n,this}return hn=t,hn}var dn,Iu;function nr(){if(Iu)return dn;Iu=1;var r=ty(),t=ry(),e=ny(),n=iy(),i=ay();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,dn=a,dn}var vn,Cu;function sy(){if(Cu)return vn;Cu=1;var r=nr();function t(){this.__data__=new r,this.size=0}return vn=t,vn}var pn,Fu;function oy(){if(Fu)return pn;Fu=1;function r(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}return pn=r,pn}var yn,Eu;function uy(){if(Eu)return yn;Eu=1;function r(t){return this.__data__.get(t)}return yn=r,yn}var gn,Ou;function cy(){if(Ou)return gn;Ou=1;function r(t){return this.__data__.has(t)}return gn=r,gn}var mn,Pu;function to(){if(Pu)return mn;Pu=1;var r=De(),t=ye(),e=r(t,"Map");return mn=e,mn}var _n,xu;function ir(){if(xu)return _n;xu=1;var r=De(),t=r(Object,"create");return _n=t,_n}var bn,Mu;function ly(){if(Mu)return bn;Mu=1;var r=ir();function t(){this.__data__=r?r(null):{},this.size=0}return bn=t,bn}var An,ku;function fy(){if(ku)return An;ku=1;function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return An=r,An}var wn,Nu;function hy(){if(Nu)return wn;Nu=1;var r=ir(),t="__lodash_hash_undefined__",e=Object.prototype,n=e.hasOwnProperty;function i(a){var s=this.__data__;if(r){var o=s[a];return o===t?void 0:o}return n.call(s,a)?s[a]:void 0}return wn=i,wn}var Rn,Du;function dy(){if(Du)return Rn;Du=1;var r=ir(),t=Object.prototype,e=t.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:e.call(a,i)}return Rn=n,Rn}var Sn,ju;function vy(){if(ju)return Sn;ju=1;var r=ir(),t="__lodash_hash_undefined__";function e(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?t:i,this}return Sn=e,Sn}var qn,Lu;function py(){if(Lu)return qn;Lu=1;var r=ly(),t=fy(),e=hy(),n=dy(),i=vy();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,qn=a,qn}var Tn,$u;function yy(){if($u)return Tn;$u=1;var r=py(),t=nr(),e=to();function n(){this.size=0,this.__data__={hash:new r,map:new(e||t),string:new r}}return Tn=n,Tn}var In,zu;function gy(){if(zu)return In;zu=1;function r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return In=r,In}var Cn,Hu;function ar(){if(Hu)return Cn;Hu=1;var r=gy();function t(e,n){var i=e.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Cn=t,Cn}var Fn,Bu;function my(){if(Bu)return Fn;Bu=1;var r=ar();function t(e){var n=r(this,e).delete(e);return this.size-=n?1:0,n}return Fn=t,Fn}var En,Uu;function _y(){if(Uu)return En;Uu=1;var r=ar();function t(e){return r(this,e).get(e)}return En=t,En}var On,Ku;function by(){if(Ku)return On;Ku=1;var r=ar();function t(e){return r(this,e).has(e)}return On=t,On}var Pn,Gu;function Ay(){if(Gu)return Pn;Gu=1;var r=ar();function t(e,n){var i=r(this,e),a=i.size;return i.set(e,n),this.size+=i.size==a?0:1,this}return Pn=t,Pn}var xn,Yu;function ro(){if(Yu)return xn;Yu=1;var r=yy(),t=my(),e=_y(),n=by(),i=Ay();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,xn=a,xn}var Mn,Vu;function wy(){if(Vu)return Mn;Vu=1;var r=nr(),t=to(),e=ro(),n=200;function i(a,s){var o=this.__data__;if(o instanceof r){var u=o.__data__;if(!t||u.length<n-1)return u.push([a,s]),this.size=++o.size,this;o=this.__data__=new e(u)}return o.set(a,s),this.size=o.size,this}return Mn=i,Mn}var kn,Wu;function no(){if(Wu)return kn;Wu=1;var r=nr(),t=sy(),e=oy(),n=uy(),i=cy(),a=wy();function s(o){var u=this.__data__=new r(o);this.size=u.size}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,kn=s,kn}var Nn,Ju;function Ry(){if(Ju)return Nn;Ju=1;var r="__lodash_hash_undefined__";function t(e){return this.__data__.set(e,r),this}return Nn=t,Nn}var Dn,Qu;function Sy(){if(Qu)return Dn;Qu=1;function r(t){return this.__data__.has(t)}return Dn=r,Dn}var jn,Zu;function Th(){if(Zu)return jn;Zu=1;var r=ro(),t=Ry(),e=Sy();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new r;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=e,jn=n,jn}var Ln,Xu;function qy(){if(Xu)return Ln;Xu=1;function r(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}return Ln=r,Ln}var $n,ec;function Ih(){if(ec)return $n;ec=1;function r(t,e){return t.has(e)}return $n=r,$n}var zn,tc;function Ch(){if(tc)return zn;tc=1;var r=Th(),t=qy(),e=Ih(),n=1,i=2;function a(s,o,u,c,f,l){var h=u&n,d=s.length,v=o.length;if(d!=v&&!(h&&v>d))return!1;var p=l.get(s),y=l.get(o);if(p&&y)return p==o&&y==s;var m=-1,g=!0,b=u&i?new r:void 0;for(l.set(s,o),l.set(o,s);++m<d;){var _=s[m],T=o[m];if(c)var R=h?c(T,_,m,o,s,l):c(_,T,m,s,o,l);if(R!==void 0){if(R)continue;g=!1;break}if(b){if(!t(o,function(q,L){if(!e(b,L)&&(_===q||f(_,q,u,c,l)))return b.push(L)})){g=!1;break}}else if(!(_===T||f(_,T,u,c,l))){g=!1;break}}return l.delete(s),l.delete(o),g}return zn=a,zn}var Hn,rc;function Fh(){if(rc)return Hn;rc=1;var r=ye(),t=r.Uint8Array;return Hn=t,Hn}var Bn,nc;function Ty(){if(nc)return Bn;nc=1;function r(t){var e=-1,n=Array(t.size);return t.forEach(function(i,a){n[++e]=[a,i]}),n}return Bn=r,Bn}var Un,ic;function io(){if(ic)return Un;ic=1;function r(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}return Un=r,Un}var Kn,ac;function Iy(){if(ac)return Kn;ac=1;var r=rt(),t=Fh(),e=tr(),n=Ch(),i=Ty(),a=io(),s=1,o=2,u="[object Boolean]",c="[object Date]",f="[object Error]",l="[object Map]",h="[object Number]",d="[object RegExp]",v="[object Set]",p="[object String]",y="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",b=r?r.prototype:void 0,_=b?b.valueOf:void 0;function T(R,q,L,O,Y,S,B){switch(L){case g:if(R.byteLength!=q.byteLength||R.byteOffset!=q.byteOffset)return!1;R=R.buffer,q=q.buffer;case m:return!(R.byteLength!=q.byteLength||!S(new t(R),new t(q)));case u:case c:case h:return e(+R,+q);case f:return R.name==q.name&&R.message==q.message;case d:case p:return R==q+"";case l:var Q=i;case v:var Le=O&s;if(Q||(Q=a),R.size!=q.size&&!Le)return!1;var $e=B.get(R);if($e)return $e==q;O|=o,B.set(R,q);var gr=n(Q(R),Q(q),O,Y,S,B);return B.delete(R),gr;case y:if(_)return _.call(R)==_.call(q)}return!1}return Kn=T,Kn}var Gn,sc;function ao(){if(sc)return Gn;sc=1;function r(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}return Gn=r,Gn}var Yn,oc;function Eh(){if(oc)return Yn;oc=1;var r=ao(),t=ie();function e(n,i,a){var s=i(n);return t(n)?s:r(s,a(n))}return Yn=e,Yn}var Vn,uc;function Cy(){if(uc)return Vn;uc=1;function r(t,e){for(var n=-1,i=t==null?0:t.length,a=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[a++]=o)}return s}return Vn=r,Vn}var Wn,cc;function Oh(){if(cc)return Wn;cc=1;function r(){return[]}return Wn=r,Wn}var Jn,lc;function so(){if(lc)return Jn;lc=1;var r=Cy(),t=Oh(),e=Object.prototype,n=e.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),r(i(s),function(o){return n.call(s,o)}))}:t;return Jn=a,Jn}var Qn,fc;function Ph(){if(fc)return Qn;fc=1;var r=Eh(),t=so(),e=Pe();function n(i){return r(i,e,t)}return Qn=n,Qn}var Zn,hc;function Fy(){if(hc)return Zn;hc=1;var r=Ph(),t=1,e=Object.prototype,n=e.hasOwnProperty;function i(a,s,o,u,c,f){var l=o&t,h=r(a),d=h.length,v=r(s),p=v.length;if(d!=p&&!l)return!1;for(var y=d;y--;){var m=h[y];if(!(l?m in s:n.call(s,m)))return!1}var g=f.get(a),b=f.get(s);if(g&&b)return g==s&&b==a;var _=!0;f.set(a,s),f.set(s,a);for(var T=l;++y<d;){m=h[y];var R=a[m],q=s[m];if(u)var L=l?u(q,R,m,s,a,f):u(R,q,m,a,s,f);if(!(L===void 0?R===q||c(R,q,o,u,f):L)){_=!1;break}T||(T=m=="constructor")}if(_&&!T){var O=a.constructor,Y=s.constructor;O!=Y&&"constructor"in a&&"constructor"in s&&!(typeof O=="function"&&O instanceof O&&typeof Y=="function"&&Y instanceof Y)&&(_=!1)}return f.delete(a),f.delete(s),_}return Zn=i,Zn}var Xn,dc;function Ey(){if(dc)return Xn;dc=1;var r=De(),t=ye(),e=r(t,"DataView");return Xn=e,Xn}var ei,vc;function Oy(){if(vc)return ei;vc=1;var r=De(),t=ye(),e=r(t,"Promise");return ei=e,ei}var ti,pc;function xh(){if(pc)return ti;pc=1;var r=De(),t=ye(),e=r(t,"Set");return ti=e,ti}var ri,yc;function Py(){if(yc)return ri;yc=1;var r=De(),t=ye(),e=r(t,"WeakMap");return ri=e,ri}var ni,gc;function _t(){if(gc)return ni;gc=1;var r=Ey(),t=to(),e=Oy(),n=xh(),i=Py(),a=nt(),s=bh(),o="[object Map]",u="[object Object]",c="[object Promise]",f="[object Set]",l="[object WeakMap]",h="[object DataView]",d=s(r),v=s(t),p=s(e),y=s(n),m=s(i),g=a;return(r&&g(new r(new ArrayBuffer(1)))!=h||t&&g(new t)!=o||e&&g(e.resolve())!=c||n&&g(new n)!=f||i&&g(new i)!=l)&&(g=function(b){var _=a(b),T=_==u?b.constructor:void 0,R=T?s(T):"";if(R)switch(R){case d:return h;case v:return o;case p:return c;case y:return f;case m:return l}return _}),ni=g,ni}var ii,mc;function xy(){if(mc)return ii;mc=1;var r=no(),t=Ch(),e=Iy(),n=Fy(),i=_t(),a=ie(),s=Xt(),o=eo(),u=1,c="[object Arguments]",f="[object Array]",l="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function v(p,y,m,g,b,_){var T=a(p),R=a(y),q=T?f:i(p),L=R?f:i(y);q=q==c?l:q,L=L==c?l:L;var O=q==l,Y=L==l,S=q==L;if(S&&s(p)){if(!s(y))return!1;T=!0,O=!1}if(S&&!O)return _||(_=new r),T||o(p)?t(p,y,m,g,b,_):e(p,y,q,m,g,b,_);if(!(m&u)){var B=O&&d.call(p,"__wrapped__"),Q=Y&&d.call(y,"__wrapped__");if(B||Q){var Le=B?p.value():p,$e=Q?y.value():y;return _||(_=new r),b(Le,$e,m,g,_)}}return S?(_||(_=new r),n(p,y,m,g,b,_)):!1}return ii=v,ii}var ai,_c;function oo(){if(_c)return ai;_c=1;var r=xy(),t=Oe();function e(n,i,a,s,o){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:r(n,i,a,s,e,o)}return ai=e,ai}var si,bc;function My(){if(bc)return si;bc=1;var r=no(),t=oo(),e=1,n=2;function i(a,s,o,u){var c=o.length,f=c,l=!u;if(a==null)return!f;for(a=Object(a);c--;){var h=o[c];if(l&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++c<f;){h=o[c];var d=h[0],v=a[d],p=h[1];if(l&&h[2]){if(v===void 0&&!(d in a))return!1}else{var y=new r;if(u)var m=u(v,p,d,a,s,y);if(!(m===void 0?t(p,v,e|n,u,y):m))return!1}}return!0}return si=i,si}var oi,Ac;function Mh(){if(Ac)return oi;Ac=1;var r=Ae();function t(e){return e===e&&!r(e)}return oi=t,oi}var ui,wc;function ky(){if(wc)return ui;wc=1;var r=Mh(),t=Pe();function e(n){for(var i=t(n),a=i.length;a--;){var s=i[a],o=n[s];i[a]=[s,o,r(o)]}return i}return ui=e,ui}var ci,Rc;function kh(){if(Rc)return ci;Rc=1;function r(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}return ci=r,ci}var li,Sc;function Ny(){if(Sc)return li;Sc=1;var r=My(),t=ky(),e=kh();function n(i){var a=t(i);return a.length==1&&a[0][2]?e(a[0][0],a[0][1]):function(s){return s===i||r(s,i,a)}}return li=n,li}var fi,qc;function sr(){if(qc)return fi;qc=1;var r=nt(),t=Oe(),e="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&r(i)==e}return fi=n,fi}var hi,Tc;function uo(){if(Tc)return hi;Tc=1;var r=ie(),t=sr(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(r(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||t(a)?!0:n.test(a)||!e.test(a)||s!=null&&a in Object(s)}return hi=i,hi}var di,Ic;function Dy(){if(Ic)return di;Ic=1;var r=ro(),t="Expected a function";function e(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],u=a.cache;if(u.has(o))return u.get(o);var c=n.apply(this,s);return a.cache=u.set(o,c)||u,c};return a.cache=new(e.Cache||r),a}return e.Cache=r,di=e,di}var vi,Cc;function jy(){if(Cc)return vi;Cc=1;var r=Dy(),t=500;function e(n){var i=r(n,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return vi=e,vi}var pi,Fc;function Ly(){if(Fc)return pi;Fc=1;var r=jy(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,n=r(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,o,u,c){a.push(u?c.replace(e,"$1"):o||s)}),a});return pi=n,pi}var yi,Ec;function co(){if(Ec)return yi;Ec=1;function r(t,e){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}return yi=r,yi}var gi,Oc;function $y(){if(Oc)return gi;Oc=1;var r=rt(),t=co(),e=ie(),n=sr(),i=r?r.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(e(o))return t(o,s)+"";if(n(o))return a?a.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return gi=s,gi}var mi,Pc;function Nh(){if(Pc)return mi;Pc=1;var r=$y();function t(e){return e==null?"":r(e)}return mi=t,mi}var _i,xc;function bt(){if(xc)return _i;xc=1;var r=ie(),t=uo(),e=Ly(),n=Nh();function i(a,s){return r(a)?a:t(a,s)?[a]:e(n(a))}return _i=i,_i}var bi,Mc;function it(){if(Mc)return bi;Mc=1;var r=sr();function t(e){if(typeof e=="string"||r(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}return bi=t,bi}var Ai,kc;function or(){if(kc)return Ai;kc=1;var r=bt(),t=it();function e(n,i){i=r(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[t(i[a++])];return a&&a==s?n:void 0}return Ai=e,Ai}var wi,Nc;function Dh(){if(Nc)return wi;Nc=1;var r=or();function t(e,n,i){var a=e==null?void 0:r(e,n);return a===void 0?i:a}return wi=t,wi}var Ri,Dc;function zy(){if(Dc)return Ri;Dc=1;function r(t,e){return t!=null&&e in Object(t)}return Ri=r,Ri}var Si,jc;function jh(){if(jc)return Si;jc=1;var r=bt(),t=Zt(),e=ie(),n=er(),i=Qs(),a=it();function s(o,u,c){u=r(u,o);for(var f=-1,l=u.length,h=!1;++f<l;){var d=a(u[f]);if(!(h=o!=null&&c(o,d)))break;o=o[d]}return h||++f!=l?h:(l=o==null?0:o.length,!!l&&i(l)&&n(d,l)&&(e(o)||t(o)))}return Si=s,Si}var qi,Lc;function Lh(){if(Lc)return qi;Lc=1;var r=zy(),t=jh();function e(n,i){return n!=null&&t(n,i,r)}return qi=e,qi}var Ti,$c;function Hy(){if($c)return Ti;$c=1;var r=oo(),t=Dh(),e=Lh(),n=uo(),i=Mh(),a=kh(),s=it(),o=1,u=2;function c(f,l){return n(f)&&i(l)?a(s(f),l):function(h){var d=t(h,f);return d===void 0&&d===l?e(h,f):r(l,d,o|u)}}return Ti=c,Ti}var Ii,zc;function ur(){if(zc)return Ii;zc=1;function r(t){return t}return Ii=r,Ii}var Ci,Hc;function By(){if(Hc)return Ci;Hc=1;function r(t){return function(e){return e?.[t]}}return Ci=r,Ci}var Fi,Bc;function Uy(){if(Bc)return Fi;Bc=1;var r=or();function t(e){return function(n){return r(n,e)}}return Fi=t,Fi}var Ei,Uc;function Ky(){if(Uc)return Ei;Uc=1;var r=By(),t=Uy(),e=uo(),n=it();function i(a){return e(a)?r(n(a)):t(a)}return Ei=i,Ei}var Oi,Kc;function At(){if(Kc)return Oi;Kc=1;var r=Ny(),t=Hy(),e=ur(),n=ie(),i=Ky();function a(s){return typeof s=="function"?s:s==null?e:typeof s=="object"?n(s)?t(s[0],s[1]):r(s):i(s)}return Oi=a,Oi}var Pi,Gc;function Gy(){if(Gc)return Pi;Gc=1;var r=Js(),t=qh(),e=At();function n(i,a){var s={};return a=e(a,3),t(i,function(o,u,c){r(s,u,a(o,u,c))}),s}return Pi=n,Pi}Gy();var xi,Yc;function $h(){if(Yc)return xi;Yc=1;function r(t,e,n,i){for(var a=t.length,s=n+(i?1:-1);i?s--:++s<a;)if(e(t[s],s,t))return s;return-1}return xi=r,xi}var Mi,Vc;function Yy(){if(Vc)return Mi;Vc=1;function r(t){return t!==t}return Mi=r,Mi}var ki,Wc;function Vy(){if(Wc)return ki;Wc=1;function r(t,e,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===e)return i;return-1}return ki=r,ki}var Ni,Jc;function Wy(){if(Jc)return Ni;Jc=1;var r=$h(),t=Yy(),e=Vy();function n(i,a,s){return a===a?e(i,a,s):r(i,t,s)}return Ni=n,Ni}var Di,Qc;function Jy(){if(Qc)return Di;Qc=1;var r=Wy();function t(e,n){var i=e==null?0:e.length;return!!i&&r(e,n,0)>-1}return Di=t,Di}var ji,Zc;function Qy(){if(Zc)return ji;Zc=1;function r(t,e,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(e,t[i]))return!0;return!1}return ji=r,ji}var Li,Xc;function Zy(){if(Xc)return Li;Xc=1;function r(){}return Li=r,Li}var $i,el;function Xy(){if(el)return $i;el=1;var r=xh(),t=Zy(),e=io(),n=1/0,i=r&&1/e(new r([,-0]))[1]==n?function(a){return new r(a)}:t;return $i=i,$i}var zi,tl;function zh(){if(tl)return zi;tl=1;var r=Th(),t=Jy(),e=Qy(),n=Ih(),i=Xy(),a=io(),s=200;function o(u,c,f){var l=-1,h=t,d=u.length,v=!0,p=[],y=p;if(f)v=!1,h=e;else if(d>=s){var m=c?null:i(u);if(m)return a(m);v=!1,h=n,y=new r}else y=c?[]:p;e:for(;++l<d;){var g=u[l],b=c?c(g):g;if(g=f||g!==0?g:0,v&&b===b){for(var _=y.length;_--;)if(y[_]===b)continue e;c&&y.push(b),p.push(g)}else h(y,b,f)||(y!==p&&y.push(b),p.push(g))}return p}return zi=o,zi}var Hi,rl;function eg(){if(rl)return Hi;rl=1;var r=zh();function t(e){return e&&e.length?r(e):[]}return Hi=t,Hi}eg();var Bi,nl;function tg(){if(nl)return Bi;nl=1;var r=rt(),t=Zt(),e=ie(),n=r?r.isConcatSpreadable:void 0;function i(a){return e(a)||t(a)||!!(n&&a&&a[n])}return Bi=i,Bi}var Ui,il;function rg(){if(il)return Ui;il=1;var r=ao(),t=tg();function e(n,i,a,s,o){var u=-1,c=n.length;for(a||(a=t),o||(o=[]);++u<c;){var f=n[u];i>0&&a(f)?i>1?e(f,i-1,a,s,o):r(o,f):s||(o[o.length]=f)}return o}return Ui=e,Ui}var Ki,al;function Hh(){if(al)return Ki;al=1;var r=rg();function t(e){var n=e==null?0:e.length;return n?r(e,1):[]}return Ki=t,Ki}var ng=Hh();const Bh=H(ng);var ig=Object.prototype.toString;function ag(r){return ig.call(r)==="[object Function]"}var Uh=function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")},Ht=(function(){function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}})();function sl(r){return r.split("").map(function(t){return"(?:"+t.toUpperCase()+"|"+t.toLowerCase()+")"}).join("")}function Ge(r,t){for(var e=r.length-1;e>=0;e--)r[e]===t&&Array.prototype.splice.call(r,e,1)}function sg(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var Gi={},ol=(function(){Ht(r,null,[{key:"getInstance",value:function(e){return Gi[e]=Gi[e]||new r,Gi[e]}}]);function r(){Uh(this,r),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return Ht(r,[{key:"acronym",value:function(e){this.acronyms[e.toLowerCase()]=e;var n=[];for(var i in this.acronyms)sg(this.acronyms,i)&&n.push(this.acronyms[i]);this.acronymRegex=new RegExp(n.join("|"))}},{key:"plural",value:function(e,n){typeof e=="string"&&Ge(this.uncountables,e),Ge(this.uncountables,n),this.plurals.unshift([e,n])}},{key:"singular",value:function(e,n){typeof e=="string"&&Ge(this.uncountables,e),Ge(this.uncountables,n),this.singulars.unshift([e,n])}},{key:"irregular",value:function(e,n){Ge(this.uncountables,e),Ge(this.uncountables,n);var i=e[0],a=e.substr(1),s=n[0],o=n.substr(1);if(i.toUpperCase()===s.toUpperCase())this.plural(new RegExp("("+i+")"+a+"$","i"),"$1"+o),this.plural(new RegExp("("+s+")"+o+"$","i"),"$1"+o),this.singular(new RegExp("("+i+")"+a+"$","i"),"$1"+a),this.singular(new RegExp("("+s+")"+o+"$","i"),"$1"+a);else{var u=sl(a),c=sl(o);this.plural(new RegExp(i.toUpperCase()+u+"$"),s.toUpperCase()+o),this.plural(new RegExp(i.toLowerCase()+u+"$"),s.toLowerCase()+o),this.plural(new RegExp(s.toUpperCase()+c+"$"),s.toUpperCase()+o),this.plural(new RegExp(s.toLowerCase()+c+"$"),s.toLowerCase()+o),this.singular(new RegExp(i.toUpperCase()+u+"$"),i.toUpperCase()+a),this.singular(new RegExp(i.toLowerCase()+u+"$"),i.toLowerCase()+a),this.singular(new RegExp(s.toUpperCase()+c+"$"),i.toUpperCase()+a),this.singular(new RegExp(s.toLowerCase()+c+"$"),i.toLowerCase()+a)}}},{key:"uncountable",value:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];this.uncountables=this.uncountables.concat(n)}},{key:"human",value:function(e,n){this.humans.unshift([e,n])}},{key:"clear",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all";e==="all"?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[e]=[]}}]),r})();function og(r){r.plural(/$/,"s"),r.plural(/s$/i,"s"),r.plural(/^(ax|test)is$/i,"$1es"),r.plural(/(octop|vir)us$/i,"$1i"),r.plural(/(octop|vir)i$/i,"$1i"),r.plural(/(alias|status)$/i,"$1es"),r.plural(/(bu)s$/i,"$1ses"),r.plural(/(buffal|tomat)o$/i,"$1oes"),r.plural(/([ti])um$/i,"$1a"),r.plural(/([ti])a$/i,"$1a"),r.plural(/sis$/i,"ses"),r.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),r.plural(/(hive)$/i,"$1s"),r.plural(/([^aeiouy]|qu)y$/i,"$1ies"),r.plural(/(x|ch|ss|sh)$/i,"$1es"),r.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),r.plural(/^(m|l)ouse$/i,"$1ice"),r.plural(/^(m|l)ice$/i,"$1ice"),r.plural(/^(ox)$/i,"$1en"),r.plural(/^(oxen)$/i,"$1"),r.plural(/(quiz)$/i,"$1zes"),r.singular(/s$/i,""),r.singular(/(ss)$/i,"$1"),r.singular(/(n)ews$/i,"$1ews"),r.singular(/([ti])a$/i,"$1um"),r.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),r.singular(/(^analy)(sis|ses)$/i,"$1sis"),r.singular(/([^f])ves$/i,"$1fe"),r.singular(/(hive)s$/i,"$1"),r.singular(/(tive)s$/i,"$1"),r.singular(/([lr])ves$/i,"$1f"),r.singular(/([^aeiouy]|qu)ies$/i,"$1y"),r.singular(/(s)eries$/i,"$1eries"),r.singular(/(m)ovies$/i,"$1ovie"),r.singular(/(x|ch|ss|sh)es$/i,"$1"),r.singular(/^(m|l)ice$/i,"$1ouse"),r.singular(/(bus)(es)?$/i,"$1"),r.singular(/(o)es$/i,"$1"),r.singular(/(shoe)s$/i,"$1"),r.singular(/(cris|test)(is|es)$/i,"$1is"),r.singular(/^(a)x[ie]s$/i,"$1xis"),r.singular(/(octop|vir)(us|i)$/i,"$1us"),r.singular(/(alias|status)(es)?$/i,"$1"),r.singular(/^(ox)en/i,"$1"),r.singular(/(vert|ind)ices$/i,"$1ex"),r.singular(/(matr)ices$/i,"$1ix"),r.singular(/(quiz)zes$/i,"$1"),r.singular(/(database)s$/i,"$1"),r.irregular("person","people"),r.irregular("man","men"),r.irregular("child","children"),r.irregular("sex","sexes"),r.irregular("move","moves"),r.irregular("zombie","zombies"),r.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}var ul={en:og};function Ne(r,t){if(ag(r)&&(t=r,r=null),r=r||"en",t)t(ol.getInstance(r));else return ol.getInstance(r)}for(var cl in ul)Ne(cl,ul[cl]);function Kh(r,t){var e=""+r,n,i,a;if(e.length===0)return e;var s=e.toLowerCase().match(/\b\w+$/);if(s&&Ne().uncountables.indexOf(s[0])>-1)return e;for(var o=0,u=t.length;o<u;o++)if(n=t[o],i=n[0],a=n[1],e.match(i)){e=e.replace(i,a);break}return e}function Gh(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return Kh(r,Ne(t).plurals)}function Yh(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return Kh(r,Ne(t).singulars)}function Vh(r){var t=r==null?"":String(r);return t.charAt(0).toUpperCase()+t.slice(1)}function ug(r,t){var e=""+r;return e=e.replace(new RegExp("^(?:"+Ne().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(n){return n.toLowerCase()}),e=e.replace(/(?:_|(\/))([a-z\d]*)/gi,function(n,i,a,s,o){return i||(i=""),""+i+(Ne().acronyms[a]||Vh(a))}),e}function cg(r){var t=""+r;return t=t.replace(new RegExp("(?:([A-Za-z\\d])|^)("+Ne().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(e,n,i){return""+(n||"")+(n?"_":"")+i.toLowerCase()}),t=t.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2"),t=t.replace(/([a-z\d])([A-Z])/g,"$1_$2"),t=t.replace(/-/g,"_"),t.toLowerCase()}function lg(r){return r.replace(/_/g,"-")}var ll={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",√Ü:"AE",√á:"C",√à:"E",√â:"E",√ä:"E",√ã:"E",√å:"I",√ç:"I",√é:"I",√è:"I",√ê:"D",√ë:"N",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O","√ó":"x",√ò:"O",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√ù:"Y",√û:"Th",√ü:"ss",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",√¶:"ae",√ß:"c",√®:"e",√©:"e",√™:"e",√´:"e",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",√∞:"d",√±:"n",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",√π:"u",√∫:"u",√ª:"u",√º:"u",√Ω:"y",√æ:"th",√ø:"y",ƒÄ:"A",ƒÅ:"a",ƒÇ:"A",ƒÉ:"a",ƒÑ:"A",ƒÖ:"a",ƒÜ:"C",ƒá:"c",ƒà:"C",ƒâ:"c",ƒä:"C",ƒã:"c",ƒå:"C",ƒç:"c",ƒé:"D",ƒè:"d",ƒê:"D",ƒë:"d",ƒí:"E",ƒì:"e",ƒî:"E",ƒï:"e",ƒñ:"E",ƒó:"e",ƒò:"E",ƒô:"e",ƒö:"E",ƒõ:"e",ƒú:"G",ƒù:"g",ƒû:"G",ƒü:"g",ƒ†:"G",ƒ°:"g",ƒ¢:"G",ƒ£:"g",ƒ§:"H",ƒ•:"h",ƒ¶:"H",ƒß:"h",ƒ®:"I",ƒ©:"i",ƒ™:"I",ƒ´:"i",ƒ¨:"I",ƒ≠:"i",ƒÆ:"I",ƒØ:"i",ƒ∞:"I",ƒ±:"i",ƒ≤:"IJ",ƒ≥:"ij",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",ƒ∏:"k",ƒπ:"L",ƒ∫:"l",ƒª:"L",ƒº:"l",ƒΩ:"L",ƒæ:"l",ƒø:"L",≈Ä:"l",≈Å:"L",≈Ç:"l",≈É:"N",≈Ñ:"n",≈Ö:"N",≈Ü:"n",≈á:"N",≈à:"n",≈â:"'n",≈ä:"NG",≈ã:"ng",≈å:"O",≈ç:"o",≈é:"O",≈è:"o",≈ê:"O",≈ë:"o",≈í:"OE",≈ì:"oe",≈î:"R",≈ï:"r",≈ñ:"R",≈ó:"r",≈ò:"R",≈ô:"r",≈ö:"S",≈õ:"s",≈ú:"S",≈ù:"s",≈û:"S",≈ü:"s",≈†:"S",≈°:"s",≈¢:"T",≈£:"t",≈§:"T",≈•:"t",≈¶:"T",≈ß:"t",≈®:"U",≈©:"u",≈™:"U",≈´:"u",≈¨:"U",≈≠:"u",≈Æ:"U",≈Ø:"u",≈∞:"U",≈±:"u",≈≤:"U",≈≥:"u",≈¥:"W",≈µ:"w",≈∂:"Y",≈∑:"y",≈∏:"Y",≈π:"Z",≈∫:"z",≈ª:"Z",≈º:"z",≈Ω:"Z",≈æ:"z",–ê:"A",–ë:"B",–í:"V",–ì:"G",–î:"D",–ï:"E",–Å:"E",–ñ:"ZH",–ó:"Z",–ò:"I",–ô:"J",–ö:"K",–õ:"L",–ú:"M",–ù:"N",–û:"O",–ü:"P",–†:"R",–°:"S",–¢:"T",–£:"U",–§:"F",–•:"KH",–¶:"C",–ß:"CH",–®:"SH",–©:"SHCH",–™:"",–´:"Y",–¨:"",–≠:"E",–Æ:"YU",–Ø:"YA",–∞:"a",–±:"b",–≤:"v",–≥:"g",–¥:"d",–µ:"e",—ë:"e",–∂:"zh",–∑:"z",–∏:"i",–π:"j",–∫:"k",–ª:"l",–º:"m",–Ω:"n",–æ:"o",–ø:"p",—Ä:"r",—Å:"s",—Ç:"t",—É:"u",—Ñ:"f",—Ö:"kh",—Ü:"c",—á:"ch",—à:"sh",—â:"shch",—ä:"",—ã:"y",—å:"",—ç:"e",—é:"yu",—è:"ya"},fg="?",Yi={};(function(){Ht(r,null,[{key:"getInstance",value:function(e){return Yi[e]=Yi[e]||new r,Yi[e]}}]);function r(){Uh(this,r),this.approximations={};for(var t in ll)this.approximate(t,ll[t])}return Ht(r,[{key:"approximate",value:function(e,n){this.approximations[e]=n}},{key:"transliterate",value:function(e,n){var i=this;return e.replace(/[^\u0000-\u007f]/g,function(a){return i.approximations[a]||n||fg})}}]),r})();var Vi,fl;function Wh(){if(fl)return Vi;fl=1;function r(t,e,n){var i=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(a);++i<a;)s[i]=t[i+e];return s}return Vi=r,Vi}var Wi,hl;function hg(){if(hl)return Wi;hl=1;var r=Wh();function t(e,n,i){var a=e.length;return i=i===void 0?a:i,!n&&i>=a?e:r(e,n,i)}return Wi=t,Wi}var Ji,dl;function Jh(){if(dl)return Ji;dl=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+e+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+r+i+a+"]");function u(c){return o.test(c)}return Ji=u,Ji}var Qi,vl;function dg(){if(vl)return Qi;vl=1;function r(t){return t.split("")}return Qi=r,Qi}var Zi,pl;function vg(){if(pl)return Zi;pl=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+e+n,a="\\ufe0e\\ufe0f",s="["+r+"]",o="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+u+")",f="[^"+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="\\u200d",v=c+"?",p="["+a+"]?",y="(?:"+d+"(?:"+[f,l,h].join("|")+")"+p+v+")*",m=p+v+y,g="(?:"+[f+o+"?",o,l,h,s].join("|")+")",b=RegExp(u+"(?="+u+")|"+g+m,"g");function _(T){return T.match(b)||[]}return Zi=_,Zi}var Xi,yl;function pg(){if(yl)return Xi;yl=1;var r=dg(),t=Jh(),e=vg();function n(i){return t(i)?e(i):r(i)}return Xi=n,Xi}var ea,gl;function yg(){if(gl)return ea;gl=1;var r=hg(),t=Jh(),e=pg(),n=Nh();function i(a){return function(s){s=n(s);var o=t(s)?e(s):void 0,u=o?o[0]:s.charAt(0),c=o?r(o,1).join(""):s.slice(1);return u[a]()+c}}return ea=i,ea}var ta,ml;function gg(){if(ml)return ta;ml=1;var r=yg(),t=r("toLowerCase");return ta=t,ta}var mg=gg();const _g=H(mg);var ra,_l;function bg(){if(_l)return ra;_l=1;var r=oo();function t(e,n){return r(e,n)}return ra=t,ra}var Ag=bg();const Ds=H(Ag);var na,bl;function wg(){if(bl)return na;bl=1;var r=we();function t(e,n){return function(i,a){if(i==null)return i;if(!r(i))return e(i,a);for(var s=i.length,o=n?s:-1,u=Object(i);(n?o--:++o<s)&&a(u[o],o,u)!==!1;);return i}}return na=t,na}var ia,Al;function Qh(){if(Al)return ia;Al=1;var r=qh(),t=wg(),e=t(r);return ia=e,ia}var aa,wl;function Rg(){if(wl)return aa;wl=1;var r=Qh(),t=we();function e(n,i){var a=-1,s=t(n)?Array(n.length):[];return r(n,function(o,u,c){s[++a]=i(o,u,c)}),s}return aa=e,aa}var sa,Rl;function Sg(){if(Rl)return sa;Rl=1;var r=co(),t=At(),e=Rg(),n=ie();function i(a,s){var o=n(a)?r:e;return o(a,t(s,3))}return sa=i,sa}var qg=Sg();const Tg=H(qg);var oa,Sl;function Ig(){if(Sl)return oa;Sl=1;function r(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}return oa=r,oa}var ua,ql;function cr(){if(ql)return ua;ql=1;var r=Js(),t=tr(),e=Object.prototype,n=e.hasOwnProperty;function i(a,s,o){var u=a[s];(!(n.call(a,s)&&t(u,o))||o===void 0&&!(s in a))&&r(a,s,o)}return ua=i,ua}var ca,Tl;function wt(){if(Tl)return ca;Tl=1;var r=cr(),t=Js();function e(n,i,a,s){var o=!a;a||(a={});for(var u=-1,c=i.length;++u<c;){var f=i[u],l=s?s(a[f],n[f],f,a,n):void 0;l===void 0&&(l=n[f]),o?t(a,f,l):r(a,f,l)}return a}return ca=e,ca}var la,Il;function Cg(){if(Il)return la;Il=1;var r=wt(),t=Pe();function e(n,i){return n&&r(i,t(i),n)}return la=e,la}var fa,Cl;function Fg(){if(Cl)return fa;Cl=1;function r(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}return fa=r,fa}var ha,Fl;function Eg(){if(Fl)return ha;Fl=1;var r=Ae(),t=mt(),e=Fg(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!r(s))return e(s);var o=t(s),u=[];for(var c in s)c=="constructor"&&(o||!i.call(s,c))||u.push(c);return u}return ha=a,ha}var da,El;function lr(){if(El)return da;El=1;var r=Rh(),t=Eg(),e=we();function n(i){return e(i)?r(i,!0):t(i)}return da=n,da}var va,Ol;function Og(){if(Ol)return va;Ol=1;var r=wt(),t=lr();function e(n,i){return n&&r(i,t(i),n)}return va=e,va}var lt={exports:{}};lt.exports;var Pl;function Pg(){return Pl||(Pl=1,(function(r,t){var e=ye(),n=t&&!t.nodeType&&t,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,s=a?e.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(c,f){if(f)return c.slice();var l=c.length,h=o?o(l):new c.constructor(l);return c.copy(h),h}r.exports=u})(lt,lt.exports)),lt.exports}var pa,xl;function xg(){if(xl)return pa;xl=1;function r(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}return pa=r,pa}var ya,Ml;function Mg(){if(Ml)return ya;Ml=1;var r=wt(),t=so();function e(n,i){return r(n,t(n),i)}return ya=e,ya}var ga,kl;function Zh(){if(kl)return ga;kl=1;var r=ao(),t=Vs(),e=so(),n=Oh(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)r(o,e(s)),s=t(s);return o}:n;return ga=a,ga}var ma,Nl;function kg(){if(Nl)return ma;Nl=1;var r=wt(),t=Zh();function e(n,i){return r(n,t(n),i)}return ma=e,ma}var _a,Dl;function Ng(){if(Dl)return _a;Dl=1;var r=Eh(),t=Zh(),e=lr();function n(i){return r(i,e,t)}return _a=n,_a}var ba,jl;function Dg(){if(jl)return ba;jl=1;var r=Object.prototype,t=r.hasOwnProperty;function e(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return ba=e,ba}var Aa,Ll;function lo(){if(Ll)return Aa;Ll=1;var r=Fh();function t(e){var n=new e.constructor(e.byteLength);return new r(n).set(new r(e)),n}return Aa=t,Aa}var wa,$l;function jg(){if($l)return wa;$l=1;var r=lo();function t(e,n){var i=n?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}return wa=t,wa}var Ra,zl;function Lg(){if(zl)return Ra;zl=1;var r=/\w*$/;function t(e){var n=new e.constructor(e.source,r.exec(e));return n.lastIndex=e.lastIndex,n}return Ra=t,Ra}var Sa,Hl;function $g(){if(Hl)return Sa;Hl=1;var r=rt(),t=r?r.prototype:void 0,e=t?t.valueOf:void 0;function n(i){return e?Object(e.call(i)):{}}return Sa=n,Sa}var qa,Bl;function zg(){if(Bl)return qa;Bl=1;var r=lo();function t(e,n){var i=n?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}return qa=t,qa}var Ta,Ul;function Hg(){if(Ul)return Ta;Ul=1;var r=lo(),t=jg(),e=Lg(),n=$g(),i=zg(),a="[object Boolean]",s="[object Date]",o="[object Map]",u="[object Number]",c="[object RegExp]",f="[object Set]",l="[object String]",h="[object Symbol]",d="[object ArrayBuffer]",v="[object DataView]",p="[object Float32Array]",y="[object Float64Array]",m="[object Int8Array]",g="[object Int16Array]",b="[object Int32Array]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",R="[object Uint16Array]",q="[object Uint32Array]";function L(O,Y,S){var B=O.constructor;switch(Y){case d:return r(O);case a:case s:return new B(+O);case v:return t(O,S);case p:case y:case m:case g:case b:case _:case T:case R:case q:return i(O,S);case o:return new B;case u:case l:return new B(O);case c:return e(O);case f:return new B;case h:return n(O)}}return Ta=L,Ta}var Ia,Kl;function Bg(){if(Kl)return Ia;Kl=1;var r=Ae(),t=Object.create,e=(function(){function n(){}return function(i){if(!r(i))return{};if(t)return t(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}})();return Ia=e,Ia}var Ca,Gl;function Ug(){if(Gl)return Ca;Gl=1;var r=Bg(),t=Vs(),e=mt();function n(i){return typeof i.constructor=="function"&&!e(i)?r(t(i)):{}}return Ca=n,Ca}var Fa,Yl;function Kg(){if(Yl)return Fa;Yl=1;var r=_t(),t=Oe(),e="[object Map]";function n(i){return t(i)&&r(i)==e}return Fa=n,Fa}var Ea,Vl;function Gg(){if(Vl)return Ea;Vl=1;var r=Kg(),t=Zs(),e=Xs(),n=e&&e.isMap,i=n?t(n):r;return Ea=i,Ea}var Oa,Wl;function Yg(){if(Wl)return Oa;Wl=1;var r=_t(),t=Oe(),e="[object Set]";function n(i){return t(i)&&r(i)==e}return Oa=n,Oa}var Pa,Jl;function Vg(){if(Jl)return Pa;Jl=1;var r=Yg(),t=Zs(),e=Xs(),n=e&&e.isSet,i=n?t(n):r;return Pa=i,Pa}var xa,Ql;function Wg(){if(Ql)return xa;Ql=1;var r=no(),t=Ig(),e=cr(),n=Cg(),i=Og(),a=Pg(),s=xg(),o=Mg(),u=kg(),c=Ph(),f=Ng(),l=_t(),h=Dg(),d=Hg(),v=Ug(),p=ie(),y=Xt(),m=Gg(),g=Ae(),b=Vg(),_=Pe(),T=lr(),R=1,q=2,L=4,O="[object Arguments]",Y="[object Array]",S="[object Boolean]",B="[object Date]",Q="[object Error]",Le="[object Function]",$e="[object GeneratorFunction]",gr="[object Map]",Fd="[object Number]",Ao="[object Object]",Ed="[object RegExp]",Od="[object Set]",Pd="[object String]",xd="[object Symbol]",Md="[object WeakMap]",kd="[object ArrayBuffer]",Nd="[object DataView]",Dd="[object Float32Array]",jd="[object Float64Array]",Ld="[object Int8Array]",$d="[object Int16Array]",zd="[object Int32Array]",Hd="[object Uint8Array]",Bd="[object Uint8ClampedArray]",Ud="[object Uint16Array]",Kd="[object Uint32Array]",P={};P[O]=P[Y]=P[kd]=P[Nd]=P[S]=P[B]=P[Dd]=P[jd]=P[Ld]=P[$d]=P[zd]=P[gr]=P[Fd]=P[Ao]=P[Ed]=P[Od]=P[Pd]=P[xd]=P[Hd]=P[Bd]=P[Ud]=P[Kd]=!0,P[Q]=P[Le]=P[Md]=!1;function Ft(I,ze,He,Gd,Et,Re){var V,Ot=ze&R,Pt=ze&q,Yd=ze&L;if(He&&(V=Et?He(I,Gd,Et,Re):He(I)),V!==void 0)return V;if(!g(I))return I;var wo=p(I);if(wo){if(V=h(I),!Ot)return s(I,V)}else{var Be=l(I),Ro=Be==Le||Be==$e;if(y(I))return a(I,Ot);if(Be==Ao||Be==O||Ro&&!Et){if(V=Pt||Ro?{}:v(I),!Ot)return Pt?u(I,i(V,I)):o(I,n(V,I))}else{if(!P[Be])return Et?I:{};V=d(I,Be,Ot)}}Re||(Re=new r);var So=Re.get(I);if(So)return So;Re.set(I,V),b(I)?I.forEach(function(Se){V.add(Ft(Se,ze,He,Se,I,Re))}):m(I)&&I.forEach(function(Se,xe){V.set(xe,Ft(Se,ze,He,xe,I,Re))});var Vd=Yd?Pt?f:c:Pt?T:_,qo=wo?void 0:Vd(I);return t(qo||I,function(Se,xe){qo&&(xe=Se,Se=I[xe]),e(V,xe,Ft(Se,ze,He,xe,I,Re))}),V}return xa=Ft,xa}var Ma,Zl;function Jg(){if(Zl)return Ma;Zl=1;var r=Wg(),t=1,e=4;function n(i){return r(i,t|e)}return Ma=n,Ma}var Qg=Jg();const Zg=H(Qg);var ka,Xl;function fo(){if(Xl)return ka;Xl=1;function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}return ka=r,ka}var Na,ef;function Xg(){if(ef)return Na;ef=1;function r(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}return Na=r,Na}var Da,tf;function em(){if(tf)return Da;tf=1;var r=or(),t=Wh();function e(n,i){return i.length<2?n:r(n,t(i,0,-1))}return Da=e,Da}var ja,rf;function tm(){if(rf)return ja;rf=1;var r=fo(),t=bt(),e=Xg(),n=em(),i=it();function a(s,o,u){o=t(o,s),s=n(s,o);var c=s==null?s:s[i(e(o))];return c==null?void 0:r(c,s,u)}return ja=a,ja}var La,nf;function Xh(){if(nf)return La;nf=1;var r=fo(),t=Math.max;function e(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,u=t(s.length-i,0),c=Array(u);++o<u;)c[o]=s[i+o];o=-1;for(var f=Array(i+1);++o<i;)f[o]=s[o];return f[i]=a(c),r(n,this,f)}}return La=e,La}var $a,af;function rm(){if(af)return $a;af=1;function r(t){return function(){return t}}return $a=r,$a}var za,sf;function nm(){if(sf)return za;sf=1;var r=rm(),t=Ah(),e=ur(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:e;return za=n,za}var Ha,of;function im(){if(of)return Ha;of=1;var r=800,t=16,e=Date.now;function n(i){var a=0,s=0;return function(){var o=e(),u=t-(o-s);if(s=o,u>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ha=n,Ha}var Ba,uf;function ed(){if(uf)return Ba;uf=1;var r=nm(),t=im(),e=t(r);return Ba=e,Ba}var Ua,cf;function td(){if(cf)return Ua;cf=1;var r=ur(),t=Xh(),e=ed();function n(i,a){return e(t(i,a,r),i+"")}return Ua=n,Ua}var Ka,lf;function am(){if(lf)return Ka;lf=1;var r=fo(),t=Qh(),e=tm(),n=td(),i=we(),a=n(function(s,o,u){var c=-1,f=typeof o=="function",l=i(s)?Array(s.length):[];return t(s,function(h){l[++c]=f?r(o,h,u):e(h,o,u)}),l});return Ka=a,Ka}var sm=am();const Ce=H(sm);var Ga,ff;function om(){if(ff)return Ga;ff=1;function r(t){for(var e=-1,n=t==null?0:t.length,i=0,a=[];++e<n;){var s=t[e];s&&(a[i++]=s)}return a}return Ga=r,Ga}var um=om();const fr=H(um);var Ya,hf;function cm(){if(hf)return Ya;hf=1;var r=Object.prototype,t=r.hasOwnProperty;function e(n,i){return n!=null&&t.call(n,i)}return Ya=e,Ya}var Va,df;function lm(){if(df)return Va;df=1;var r=cm(),t=jh();function e(n,i){return n!=null&&t(n,i,r)}return Va=e,Va}var fm=lm();const hm=H(fm);var Wa,vf;function dm(){if(vf)return Wa;vf=1;var r=co();function t(e,n){return r(n,function(i){return e[i]})}return Wa=t,Wa}var Ja,pf;function vm(){if(pf)return Ja;pf=1;var r=dm(),t=Pe();function e(n){return n==null?[]:r(n,t(n))}return Ja=e,Ja}var pm=vm();const Qa=H(pm);var Za,yf;function ym(){if(yf)return Za;yf=1;var r=Sh(),t=_t(),e=Zt(),n=ie(),i=we(),a=Xt(),s=mt(),o=eo(),u="[object Map]",c="[object Set]",f=Object.prototype,l=f.hasOwnProperty;function h(d){if(d==null)return!0;if(i(d)&&(n(d)||typeof d=="string"||typeof d.splice=="function"||a(d)||o(d)||e(d)))return!d.length;var v=t(d);if(v==u||v==c)return!d.size;if(s(d))return!r(d).length;for(var p in d)if(l.call(d,p))return!1;return!0}return Za=h,Za}var gm=ym();const js=H(gm);var mm=Dh();const rd=H(mm);var Xa,gf;function _m(){if(gf)return Xa;gf=1;var r=At(),t=zh();function e(n,i){return n&&n.length?t(n,r(i,2)):[]}return Xa=e,Xa}var bm=_m();const nd=H(bm);var es,mf;function Am(){if(mf)return es;mf=1;var r=ur();function t(e){return typeof e=="function"?e:r}return es=t,es}var ts,_f;function wm(){if(_f)return ts;_f=1;var r=wh(),t=Am(),e=lr();function n(i,a){return i==null?i:r(i,t(a),e)}return ts=n,ts}var Rm=wm();const Sm=H(Rm);var rs,bf;function qm(){if(bf)return rs;bf=1;var r=cr(),t=bt(),e=er(),n=Ae(),i=it();function a(s,o,u,c){if(!n(s))return s;o=t(o,s);for(var f=-1,l=o.length,h=l-1,d=s;d!=null&&++f<l;){var v=i(o[f]),p=u;if(v==="__proto__"||v==="constructor"||v==="prototype")return s;if(f!=h){var y=d[v];p=c?c(y,v,d):void 0,p===void 0&&(p=n(y)?y:e(o[f+1])?[]:{})}r(d,v,p),d=d[v]}return s}return rs=a,rs}var ns,Af;function Tm(){if(Af)return ns;Af=1;var r=or(),t=qm(),e=bt();function n(i,a,s){for(var o=-1,u=a.length,c={};++o<u;){var f=a[o],l=r(i,f);s(l,f)&&t(c,e(f,i),l)}return c}return ns=n,ns}var is,wf;function Im(){if(wf)return is;wf=1;var r=Tm(),t=Lh();function e(n,i){return r(n,i,function(a,s){return t(n,s)})}return is=e,is}var as,Rf;function Cm(){if(Rf)return as;Rf=1;var r=Hh(),t=Xh(),e=ed();function n(i){return e(t(i,void 0,r),i+"")}return as=n,as}var ss,Sf;function Fm(){if(Sf)return ss;Sf=1;var r=Im(),t=Cm(),e=t(function(n,i){return n==null?{}:r(n,i)});return ss=e,ss}var Em=Fm();const Om=H(Em);var os,qf;function Pm(){if(qf)return os;qf=1;var r=tr(),t=we(),e=er(),n=Ae();function i(a,s,o){if(!n(o))return!1;var u=typeof s;return(u=="number"?t(o)&&e(s,o.length):u=="string"&&s in o)?r(o[s],a):!1}return os=i,os}var us,Tf;function xm(){if(Tf)return us;Tf=1;var r=td(),t=Pm();function e(n){return r(function(i,a){var s=-1,o=a.length,u=o>1?a[o-1]:void 0,c=o>2?a[2]:void 0;for(u=n.length>3&&typeof u=="function"?(o--,u):void 0,c&&t(a[0],a[1],c)&&(u=o<3?void 0:u,o=1),i=Object(i);++s<o;){var f=a[s];f&&n(i,f,s,u)}return i})}return us=e,us}var cs,If;function Mm(){if(If)return cs;If=1;var r=cr(),t=wt(),e=xm(),n=we(),i=mt(),a=Pe(),s=Object.prototype,o=s.hasOwnProperty,u=e(function(c,f){if(i(f)||n(f)){t(f,a(f),c);return}for(var l in f)o.call(f,l)&&r(c,l,f[l])});return cs=u,cs}var km=Mm();const Ls=H(km);var ls,Cf;function Nm(){if(Cf)return ls;Cf=1;var r=At(),t=we(),e=Pe();function n(i){return function(a,s,o){var u=Object(a);if(!t(a)){var c=r(s,3);a=e(a),s=function(l){return c(u[l],l,u)}}var f=i(a,s,o);return f>-1?u[c?a[f]:f]:void 0}}return ls=n,ls}var fs,Ff;function Dm(){if(Ff)return fs;Ff=1;var r=/\s/;function t(e){for(var n=e.length;n--&&r.test(e.charAt(n)););return n}return fs=t,fs}var hs,Ef;function jm(){if(Ef)return hs;Ef=1;var r=Dm(),t=/^\s+/;function e(n){return n&&n.slice(0,r(n)+1).replace(t,"")}return hs=e,hs}var ds,Of;function Lm(){if(Of)return ds;Of=1;var r=jm(),t=Ae(),e=sr(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function u(c){if(typeof c=="number")return c;if(e(c))return n;if(t(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=t(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=r(c);var l=a.test(c);return l||s.test(c)?o(c.slice(2),l?2:8):i.test(c)?n:+c}return ds=u,ds}var vs,Pf;function $m(){if(Pf)return vs;Pf=1;var r=Lm(),t=1/0,e=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=r(i),i===t||i===-t){var a=i<0?-1:1;return a*e}return i===i?i:0}return vs=n,vs}var ps,xf;function id(){if(xf)return ps;xf=1;var r=$m();function t(e){var n=r(e),i=n%1;return n===n?i?n-i:n:0}return ps=t,ps}var ys,Mf;function zm(){if(Mf)return ys;Mf=1;var r=$h(),t=At(),e=id(),n=Math.max;function i(a,s,o){var u=a==null?0:a.length;if(!u)return-1;var c=o==null?0:e(o);return c<0&&(c=n(u+c,0)),r(a,t(s,3),c)}return ys=i,ys}var gs,kf;function Hm(){if(kf)return gs;kf=1;var r=Nm(),t=zm(),e=r(t);return gs=e,gs}var Bm=Hm();const ms=H(Bm);var _s,Nf;function Um(){if(Nf)return _s;Nf=1;var r=id();function t(e){return typeof e=="number"&&e==r(e)}return _s=t,_s}var Km=Um();const Df=H(Km);var jf={},Lf;function Gm(){return Lf||(Lf=1,typeof re<"u"&&typeof re.self>"u"&&(re.self={},re.__pretenderNodePolyfill=!0)),jf}Gm();var Ym=Object.create;function $s(){var r=Ym(null);return r.__=void 0,delete r.__,r}var ad=function(t,e,n){this.path=t,this.matcher=e,this.delegate=n};ad.prototype.to=function(t,e){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(e.length===0)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}};var Bt=function(t){this.routes=$s(),this.children=$s(),this.target=t};Bt.prototype.add=function(t,e){this.routes[t]=e};Bt.prototype.addChild=function(t,e,n,i){var a=new Bt(e);this.children[t]=a;var s=ho(t,a,i);i&&i.contextEntered&&i.contextEntered(e,s),n(s)};function ho(r,t,e){function n(i,a){var s=r+i;if(a)a(ho(s,t,e));else return new ad(s,t,e)}return n}function Vm(r,t,e){for(var n=0,i=0;i<r.length;i++)n+=r[i].path.length;t=t.substr(n);var a={path:t,handler:e};r.push(a)}function sd(r,t,e,n){for(var i=t.routes,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],u=r.slice();Vm(u,o,i[o]);var c=t.children[o];c?sd(u,c,e,n):e.call(n,u)}}var Wm=function(r,t){var e=new Bt;r(ho("",e,this.delegate)),sd([],e,function(n){t?t(this,n):this.add(n)},this)};function od(r){return r.split("/").map(vo).join("/")}var Jm=/%|\//g;function vo(r){return r.length<3||r.indexOf("%")===-1?r:decodeURIComponent(r).replace(Jm,encodeURIComponent)}var Qm=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g;function ud(r){return encodeURIComponent(r).replace(Qm,decodeURIComponent)}var Zm=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,hr=Array.isArray,Xm=Object.prototype.hasOwnProperty;function cd(r,t){if(typeof r!="object"||r===null)throw new Error("You must pass an object as the second argument to `generate`.");if(!Xm.call(r,t))throw new Error("You must provide param `"+t+"` to `generate`.");var e=r[t],n=typeof e=="string"?e:""+e;if(n.length===0)throw new Error("You must provide a param `"+t+"`.");return n}var Rt=[];Rt[0]=function(r,t){for(var e=t,n=r.value,i=0;i<n.length;i++){var a=n.charCodeAt(i);e=e.put(a,!1,!1)}return e};Rt[1]=function(r,t){return t.put(47,!0,!0)};Rt[2]=function(r,t){return t.put(-1,!1,!0)};Rt[4]=function(r,t){return t};var St=[];St[0]=function(r){return r.value.replace(Zm,"\\$1")};St[1]=function(){return"([^/]+)"};St[2]=function(){return"(.+)"};St[4]=function(){return""};var qt=[];qt[0]=function(r){return r.value};qt[1]=function(r,t){var e=cd(t,r.value);return N.ENCODE_AND_DECODE_PATH_SEGMENTS?ud(e):e};qt[2]=function(r,t){return cd(t,r.value)};qt[4]=function(){return""};var $f=Object.freeze({}),Ut=Object.freeze([]);function e_(r,t,e){t.length>0&&t.charCodeAt(0)===47&&(t=t.substr(1));for(var n=t.split("/"),i=void 0,a=void 0,s=0;s<n.length;s++){var o=n[s],u=0,c=0;o===""?c=4:o.charCodeAt(0)===58?c=1:o.charCodeAt(0)===42?c=2:c=0,u=2<<c,u&12&&(o=o.slice(1),i=i||[],i.push(o),a=a||[],a.push((u&4)!==0)),u&14&&e[c]++,r.push({type:c,value:vo(o)})}return{names:i||Ut,shouldDecodes:a||Ut}}function zf(r,t,e){return r.char===t&&r.negate===e}var et=function(t,e,n,i,a){this.states=t,this.id=e,this.char=n,this.negate=i,this.nextStates=a?e:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};et.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex};et.prototype.get=function(t,e){var n=this,i=this.nextStates;if(i!==null)if(hr(i))for(var a=0;a<i.length;a++){var s=n.states[i[a]];if(zf(s,t,e))return s}else{var o=this.states[i];if(zf(o,t,e))return o}};et.prototype.put=function(t,e,n){var i;if(i=this.get(t,e))return i;var a=this.states;return i=new et(a,a.length,t,e,n),a[a.length]=i,this.nextStates==null?this.nextStates=i.id:hr(this.nextStates)?this.nextStates.push(i.id):this.nextStates=[this.nextStates,i.id],i};et.prototype.match=function(t){var e=this,n=this.nextStates;if(!n)return[];var i=[];if(hr(n))for(var a=0;a<n.length;a++){var s=e.states[n[a]];Hf(s,t)&&i.push(s)}else{var o=this.states[n];Hf(o,t)&&i.push(o)}return i};function Hf(r,t){return r.negate?r.char!==t&&r.char!==-1:r.char===t||r.char===-1}function t_(r){return r.sort(function(t,e){var n=t.types||[0,0,0],i=n[0],a=n[1],s=n[2],o=e.types||[0,0,0],u=o[0],c=o[1],f=o[2];if(s!==f)return s-f;if(s){if(i!==u)return u-i;if(a!==c)return c-a}return a!==c?a-c:i!==u?u-i:0})}function r_(r,t){for(var e=[],n=0,i=r.length;n<i;n++){var a=r[n];e=e.concat(a.match(t))}return e}var dr=function(t){this.length=0,this.queryParams=t||{}};dr.prototype.splice=Array.prototype.splice;dr.prototype.slice=Array.prototype.slice;dr.prototype.push=Array.prototype.push;function n_(r,t,e){var n=r.handlers,i=r.regex();if(!i||!n)throw new Error("state not initialized");var a=t.match(i),s=1,o=new dr(e);o.length=n.length;for(var u=0;u<n.length;u++){var c=n[u],f=c.names,l=c.shouldDecodes,h=$f,d=!1;if(f!==Ut&&l!==Ut)for(var v=0;v<f.length;v++){d=!0;var p=f[v],y=a&&a[s++];h===$f&&(h={}),N.ENCODE_AND_DECODE_PATH_SEGMENTS&&l[v]?h[p]=y&&decodeURIComponent(y):h[p]=y}o[u]={handler:c.handler,params:h,isDynamic:d}}return o}function Bf(r){r=r.replace(/\+/gm,"%20");var t;try{t=decodeURIComponent(r)}catch{t=""}return t}var N=function(){this.names=$s();var t=[],e=new et(t,0,-1,!0,!1);t[0]=e,this.states=t,this.rootState=e};N.prototype.add=function(t,e){for(var n=this.rootState,i="^",a=[0,0,0],s=new Array(t.length),o=[],u=!0,c=0,f=0;f<t.length;f++){for(var l=t[f],h=e_(o,l.path,a),d=h.names,v=h.shouldDecodes;c<o.length;c++){var p=o[c];p.type!==4&&(u=!1,n=n.put(47,!1,!1),i+="/",n=Rt[p.type](p,n),i+=St[p.type](p))}s[f]={handler:l.handler,names:d,shouldDecodes:v}}u&&(n=n.put(47,!1,!1),i+="/"),n.handlers=s,n.pattern=i+"$",n.types=a;var y;typeof e=="object"&&e!==null&&e.as&&(y=e.as),y&&(this.names[y]={segments:o,handlers:s})};N.prototype.handlersFor=function(t){var e=this.names[t];if(!e)throw new Error("There is no route named "+t);for(var n=new Array(e.handlers.length),i=0;i<e.handlers.length;i++){var a=e.handlers[i];n[i]=a}return n};N.prototype.hasRoute=function(t){return!!this.names[t]};N.prototype.generate=function(t,e){var n=this.names[t],i="";if(!n)throw new Error("There is no route named "+t);for(var a=n.segments,s=0;s<a.length;s++){var o=a[s];o.type!==4&&(i+="/",i+=qt[o.type](o,e))}return i.charAt(0)!=="/"&&(i="/"+i),e&&e.queryParams&&(i+=this.generateQueryString(e.queryParams)),i};N.prototype.generateQueryString=function(t){var e=[],n=Object.keys(t);n.sort();for(var i=0;i<n.length;i++){var a=n[i],s=t[a];if(s!=null){var o=encodeURIComponent(a);if(hr(s))for(var u=0;u<s.length;u++){var c=a+"[]="+encodeURIComponent(s[u]);e.push(c)}else o+="="+encodeURIComponent(s),e.push(o)}}return e.length===0?"":"?"+e.join("&")};N.prototype.parseQueryString=function(t){for(var e=t.split("&"),n={},i=0;i<e.length;i++){var a=e[i].split("="),s=Bf(a[0]),o=s.length,u=!1,c=void 0;a.length===1?c="true":(o>2&&s.slice(o-2)==="[]"&&(u=!0,s=s.slice(0,o-2),n[s]||(n[s]=[])),c=a[1]?Bf(a[1]):""),u?n[s].push(c):n[s]=c}return n};N.prototype.recognize=function(t){var e,n=[this.rootState],i={},a=!1,s=t.indexOf("#");s!==-1&&(t=t.substr(0,s));var o=t.indexOf("?");if(o!==-1){var u=t.substr(o+1,t.length);t=t.substr(0,o),i=this.parseQueryString(u)}t.charAt(0)!=="/"&&(t="/"+t);var c=t;N.ENCODE_AND_DECODE_PATH_SEGMENTS?t=od(t):(t=decodeURI(t),c=decodeURI(c));var f=t.length;f>1&&t.charAt(f-1)==="/"&&(t=t.substr(0,f-1),c=c.substr(0,c.length-1),a=!0);for(var l=0;l<t.length&&(n=r_(n,t.charCodeAt(l)),!!n.length);l++);for(var h=[],d=0;d<n.length;d++)n[d].handlers&&h.push(n[d]);n=t_(h);var v=h[0];return v&&v.handlers&&(a&&v.pattern&&v.pattern.slice(-5)==="(.+)$"&&(c=c+"/"),e=n_(v,c,i)),e};N.VERSION="0.3.4";N.ENCODE_AND_DECODE_PATH_SEGMENTS=!0;N.Normalizer={normalizeSegment:vo,normalizePath:od,encodePathSegment:ud};N.prototype.map=Wm;var Te=function(t,e,n,i){this.type=t,this.bubbles=e,this.cancelable=n,this.target=i};Te.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var i_={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function a_(r){var t;if(typeof DOMParser<"u"){var e=new DOMParser;t=e.parseFromString(r,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(r);return t}var s_={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function o_(r,t){t.addEventListener(r,function(e){var n=t["on"+r];n&&typeof n=="function"&&n.call(e.target,e)})}function Kt(){this._eventListeners={};for(var r=["loadstart","progress","load","abort","loadend"],t=r.length-1;t>=0;t--)o_(r[t],this)}Kt.prototype={addEventListener:function(t,e){this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push(e)},removeEventListener:function(t,e){for(var n=this._eventListeners[t]||[],i=0,a=n.length;i<a;++i)if(n[i]==e)return n.splice(i,1)},dispatchEvent:function(t){for(var e=t.type,n=this._eventListeners[e]||[],i=0;i<n.length;i++)typeof n[i]=="function"?n[i].call(this,t):n[i].handleEvent(t);return!!t.defaultPrevented},_progress:function(t,e,n){var i=new Te("progress");i.target=this,i.lengthComputable=t,i.loaded=e,i.total=n,this.dispatchEvent(i)}};function C(){Kt.call(this),this.readyState=C.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new Kt,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}C.prototype=new Kt;C.UNSENT=0;C.OPENED=1;C.HEADERS_RECEIVED=2;C.LOADING=3;C.DONE=4;var Uf={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(t,e,n,i,a){this.method=t,this.url=e,this.async=typeof n=="boolean"?n:!0,this.username=i,this.password=a,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=e,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(C.OPENED)},setRequestHeader:function(t,e){if(Gf(this),s_[t]||/^(Sec-|Proxy-)/.test(t))throw new Error('Refused to set unsafe header "'+t+'"');this.requestHeaders[t]?this.requestHeaders[t]+=","+e:this.requestHeaders[t]=e},send:function(t){if(Gf(this),!/^(get|head)$/i.test(this.method)){var e=!1;Object.keys(this.requestHeaders).forEach(function(n){n.toLowerCase()==="content-type"&&(e=!0)}),!e&&!(t||"").toString().match("FormData")&&(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=t}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(C.OPENED),typeof this.onSend=="function"&&this.onSend(this),this.dispatchEvent(new Te("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new Te("abort",!1,!1,this)),this.readyState>C.UNSENT&&this.sendFlag&&(this._readyStateChange(C.UNSENT),this.sendFlag=!1),typeof this.onerror=="function"&&this.onerror()},getResponseHeader:function(t){if(this.readyState<C.HEADERS_RECEIVED||/^Set-Cookie2?$/i.test(t))return null;t=t.toLowerCase();for(var e in this.responseHeaders)if(e.toLowerCase()==t)return this.responseHeaders[e];return null},getAllResponseHeaders:function(){if(this.readyState<C.HEADERS_RECEIVED)return"";var t="";for(var e in this.responseHeaders)this.responseHeaders.hasOwnProperty(e)&&!/^Set-Cookie2?$/i.test(e)&&(t+=e+": "+this.responseHeaders[e]+`\r
`);return t},overrideMimeType:function(t){typeof t=="string"&&(this.forceMimeType=t.toLowerCase())},_readyStateChange:function(t){this.readyState=t,typeof this.onreadystatechange=="function"&&this.onreadystatechange(new Te("readystatechange")),this.dispatchEvent(new Te("readystatechange")),this.readyState==C.DONE&&this.dispatchEvent(new Te("load",!1,!1,this)),(this.readyState==C.UNSENT||this.readyState==C.DONE)&&this.dispatchEvent(new Te("loadend",!1,!1,this))},_setResponseHeaders:function(t){this.responseHeaders={};for(var e in t)t.hasOwnProperty(e)&&(this.responseHeaders[e]=t[e]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(C.HEADERS_RECEIVED):this.readyState=C.HEADERS_RECEIVED},_setResponseBody:function(t){u_(this),c_(this),l_(t);var e=this.chunkSize||10,n=0;this.responseText="",this.response=this.responseText;do this.async&&this._readyStateChange(C.LOADING),this.responseText+=t.substring(n,n+e),this.response=this.responseText,n+=e;while(n<t.length);var i=this.getResponseHeader("Content-Type");if(this.responseText&&(!i||/(text\/xml)|(application\/xml)|(\+xml)/.test(i)))try{this.responseXML=a_(this.responseText)}catch{}this.async?this._readyStateChange(C.DONE):this.readyState=C.DONE},respond:function(t,e,n){this._setResponseHeaders(e||{}),this.status=typeof t=="number"?t:200,this.statusText=i_[this.status],this._setResponseBody(n||"")}};for(var Kf in Uf)C.prototype[Kf]=Uf[Kf];function Gf(r){if(r.readyState!==C.OPENED)throw new Error("INVALID_STATE_ERR");if(r.sendFlag)throw new Error("INVALID_STATE_ERR")}function u_(r){if(r.readyState==C.DONE)throw new Error("Request done")}function c_(r){if(r.async&&r.readyState!=C.HEADERS_RECEIVED)throw new Error("No headers received")}function l_(r){if(typeof r!="string"){var t=new Error("Attempted to respond to fake XMLHttpRequest with "+r+", which is not a string.");throw t.name="InvalidBodyException",t}}var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ld=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},f_=Object.prototype.hasOwnProperty,h_;function Vf(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch{return null}}function d_(r){for(var t=/([^=?&]+)=?([^&]*)/g,e={},n;n=t.exec(r);){var i=Vf(n[1]),a=Vf(n[2]);i===null||a===null||i in e||(e[i]=a)}return e}function v_(r,t){t=t||"";var e=[],n,i;typeof t!="string"&&(t="?");for(i in r)if(f_.call(r,i)){if(n=r[i],!n&&(n===null||n===h_||isNaN(n))&&(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),i===null||n===null)continue;e.push(i+"="+n)}return e.length?t+e.join("&"):""}var p_=v_,y_=d_,vr={stringify:p_,parse:y_},g_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,m_=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,__=/^[a-zA-Z]:/,b_="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",A_=new RegExp("^"+b_+"+");function po(r){return(r||"").toString().replace(A_,"")}var zs=[["#","hash"],["?","query"],function(t,e){return be(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Wf={hash:1,query:1};function fd(r){var t;typeof window<"u"?t=window:typeof Yf<"u"?t=Yf:typeof self<"u"?t=self:t={};var e=t.location||{};r=r||e;var n={},i=typeof r,a;if(r.protocol==="blob:")n=new ve(unescape(r.pathname),{});else if(i==="string"){n=new ve(r,{});for(a in Wf)delete n[a]}else if(i==="object"){for(a in r)a in Wf||(n[a]=r[a]);n.slashes===void 0&&(n.slashes=g_.test(r.href))}return n}function be(r){return r==="file:"||r==="ftp:"||r==="http:"||r==="https:"||r==="ws:"||r==="wss:"}function hd(r,t){r=po(r),t=t||{};var e=m_.exec(r),n=e[1]?e[1].toLowerCase():"",i=!!e[2],a=!!e[3],s=0,o;return i?a?(o=e[2]+e[3]+e[4],s=e[2].length+e[3].length):(o=e[2]+e[4],s=e[2].length):a?(o=e[3]+e[4],s=e[3].length):o=e[4],n==="file:"?s>=2&&(o=o.slice(2)):be(n)?o=e[4]:n?i&&(o=o.slice(2)):s>=2&&be(t.protocol)&&(o=e[4]),{protocol:n,slashes:i||be(n),slashesCount:s,rest:o}}function w_(r,t){if(r==="")return t;for(var e=(t||"/").split("/").slice(0,-1).concat(r.split("/")),n=e.length,i=e[n-1],a=!1,s=0;n--;)e[n]==="."?e.splice(n,1):e[n]===".."?(e.splice(n,1),s++):s&&(n===0&&(a=!0),e.splice(n,1),s--);return a&&e.unshift(""),(i==="."||i==="..")&&e.push(""),e.join("/")}function ve(r,t,e){if(r=po(r),!(this instanceof ve))return new ve(r,t,e);var n,i,a,s,o,u,c=zs.slice(),f=typeof t,l=this,h=0;for(f!=="object"&&f!=="string"&&(e=t,t=null),e&&typeof e!="function"&&(e=vr.parse),t=fd(t),i=hd(r||"",t),n=!i.protocol&&!i.slashes,l.slashes=i.slashes||n&&t.slashes,l.protocol=i.protocol||t.protocol||"",r=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||__.test(r))||!i.slashes&&(i.protocol||i.slashesCount<2||!be(l.protocol)))&&(c[3]=[/(.*)/,"pathname"]);h<c.length;h++){if(s=c[h],typeof s=="function"){r=s(r,l);continue}a=s[0],u=s[1],a!==a?l[u]=r:typeof a=="string"?~(o=r.indexOf(a))&&(typeof s[2]=="number"?(l[u]=r.slice(0,o),r=r.slice(o+s[2])):(l[u]=r.slice(o),r=r.slice(0,o))):(o=a.exec(r))&&(l[u]=o[1],r=r.slice(0,o.index)),l[u]=l[u]||n&&s[3]&&t[u]||"",s[4]&&(l[u]=l[u].toLowerCase())}e&&(l.query=e(l.query)),n&&t.slashes&&l.pathname.charAt(0)!=="/"&&(l.pathname!==""||t.pathname!=="")&&(l.pathname=w_(l.pathname,t.pathname)),l.pathname.charAt(0)!=="/"&&be(l.protocol)&&(l.pathname="/"+l.pathname),ld(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(s=l.auth.split(":"),l.username=s[0]||"",l.password=s[1]||""),l.origin=l.protocol!=="file:"&&be(l.protocol)&&l.host?l.protocol+"//"+l.host:"null",l.href=l.toString()}function R_(r,t,e){var n=this;switch(r){case"query":typeof t=="string"&&t.length&&(t=(e||vr.parse)(t)),n[r]=t;break;case"port":n[r]=t,ld(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[r]="");break;case"hostname":n[r]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[r]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!e;break;case"pathname":case"hash":if(t){var i=r==="pathname"?"/":"#";n[r]=t.charAt(0)!==i?i+t:t}else n[r]=t;break;default:n[r]=t}for(var a=0;a<zs.length;a++){var s=zs[a];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.origin=n.protocol!=="file:"&&be(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function S_(r){(!r||typeof r!="function")&&(r=vr.stringify);var t,e=this,n=e.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var i=n+(e.slashes||be(e.protocol)?"//":"");return e.username&&(i+=e.username,e.password&&(i+=":"+e.password),i+="@"),i+=e.host+e.pathname,t=typeof e.query=="object"?r(e.query):e.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),e.hash&&(i+=e.hash),i}ve.prototype={set:R_,toString:S_};ve.extractProtocol=hd;ve.location=fd;ve.trimLeft=po;ve.qs=vr;var q_=ve;function We(r){var t=new q_(r);t.host||(t.href=t.href);var e=t.pathname;e.charAt(0)!=="/"&&(e="/"+e);var n=t.host;return(t.port==="80"||t.port==="443")&&(n=t.hostname),{host:n,protocol:t.protocol,search:t.query,hash:t.hash,href:t.href,pathname:e,fullpath:e+(t.query||"")+(t.hash||"")}}var yo=(function(){function r(){this.verbs={GET:new N,PUT:new N,POST:new N,DELETE:new N,PATCH:new N,HEAD:new N,OPTIONS:new N}}return r})(),Hs=(function(){function r(){this.registries={}}return r.prototype.forURL=function(t){var e=We(t).host,n=this.registries[e];return n===void 0&&(n=this.registries[e]=new yo),n.verbs},r})(),U=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof U<"u"&&U,J={searchParams:"URLSearchParams"in U,iterable:"Symbol"in U&&"iterator"in Symbol,blob:"FileReader"in U&&"Blob"in U&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in U,arrayBuffer:"ArrayBuffer"in U};function T_(r){return r&&DataView.prototype.isPrototypeOf(r)}if(J.arrayBuffer)var I_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],C_=ArrayBuffer.isView||function(r){return r&&I_.indexOf(Object.prototype.toString.call(r))>-1};function Tt(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(r)||r==="")throw new TypeError('Invalid character in header field name: "'+r+'"');return r.toLowerCase()}function go(r){return typeof r!="string"&&(r=String(r)),r}function mo(r){var t={next:function(){var e=r.shift();return{done:e===void 0,value:e}}};return J.iterable&&(t[Symbol.iterator]=function(){return t}),t}function j(r){this.map={},r instanceof j?r.forEach(function(t,e){this.append(e,t)},this):Array.isArray(r)?r.forEach(function(t){this.append(t[0],t[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(t){this.append(t,r[t])},this)}j.prototype.append=function(r,t){r=Tt(r),t=go(t);var e=this.map[r];this.map[r]=e?e+", "+t:t};j.prototype.delete=function(r){delete this.map[Tt(r)]};j.prototype.get=function(r){return r=Tt(r),this.has(r)?this.map[r]:null};j.prototype.has=function(r){return this.map.hasOwnProperty(Tt(r))};j.prototype.set=function(r,t){this.map[Tt(r)]=go(t)};j.prototype.forEach=function(r,t){for(var e in this.map)this.map.hasOwnProperty(e)&&r.call(t,this.map[e],e,this)};j.prototype.keys=function(){var r=[];return this.forEach(function(t,e){r.push(e)}),mo(r)};j.prototype.values=function(){var r=[];return this.forEach(function(t){r.push(t)}),mo(r)};j.prototype.entries=function(){var r=[];return this.forEach(function(t,e){r.push([e,t])}),mo(r)};J.iterable&&(j.prototype[Symbol.iterator]=j.prototype.entries);function bs(r){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}function dd(r){return new Promise(function(t,e){r.onload=function(){t(r.result)},r.onerror=function(){e(r.error)}})}function F_(r){var t=new FileReader,e=dd(t);return t.readAsArrayBuffer(r),e}function E_(r){var t=new FileReader,e=dd(t);return t.readAsText(r),e}function O_(r){for(var t=new Uint8Array(r),e=new Array(t.length),n=0;n<t.length;n++)e[n]=String.fromCharCode(t[n]);return e.join("")}function Jf(r){if(r.slice)return r.slice(0);var t=new Uint8Array(r.byteLength);return t.set(new Uint8Array(r)),t.buffer}function vd(){return this.bodyUsed=!1,this._initBody=function(r){this.bodyUsed=this.bodyUsed,this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:J.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:J.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:J.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():J.arrayBuffer&&J.blob&&T_(r)?(this._bodyArrayBuffer=Jf(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):J.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||C_(r))?this._bodyArrayBuffer=Jf(r):this._bodyText=r=Object.prototype.toString.call(r):this._bodyText="",this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):J.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},J.blob&&(this.blob=function(){var r=bs(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var r=bs(this);return r||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(F_)}),this.text=function(){var r=bs(this);if(r)return r;if(this._bodyBlob)return E_(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},J.formData&&(this.formData=function(){return this.text().then(M_)}),this.json=function(){return this.text().then(JSON.parse)},this}var P_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x_(r){var t=r.toUpperCase();return P_.indexOf(t)>-1?t:r}function Fe(r,t){if(!(this instanceof Fe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var e=t.body;if(r instanceof Fe){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,t.headers||(this.headers=new j(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!e&&r._bodyInit!=null&&(e=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new j(t.headers)),this.method=x_(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&e)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(e),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Fe.prototype.clone=function(){return new Fe(this,{body:this._bodyInit})};function M_(r){var t=new FormData;return r.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(a))}}),t}function k_(r){var t=new j,e=r.replace(/\r?\n[\t ]+/g," ");return e.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var i=n.split(":"),a=i.shift().trim();if(a){var s=i.join(":").trim();t.append(a,s)}}),t}vd.call(Fe.prototype);function se(r,t){if(!(this instanceof se))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new j(t.headers),this.url=t.url||"",this._initBody(r)}vd.call(se.prototype);se.prototype.clone=function(){return new se(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})};se.error=function(){var r=new se(null,{status:0,statusText:""});return r.type="error",r};var N_=[301,302,303,307,308];se.redirect=function(r,t){if(N_.indexOf(t)===-1)throw new RangeError("Invalid status code");return new se(null,{status:t,headers:{location:r}})};var Ie=U.DOMException;try{new Ie}catch{Ie=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie}function _o(r,t){return new Promise(function(e,n){var i=new Fe(r,t);if(i.signal&&i.signal.aborted)return n(new Ie("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var u={status:a.status,statusText:a.statusText,headers:k_(a.getAllResponseHeaders()||"")};u.url="responseURL"in a?a.responseURL:u.headers.get("X-Request-URL");var c="response"in a?a.response:a.responseText;setTimeout(function(){e(new se(c,u))},0)},a.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},a.onabort=function(){setTimeout(function(){n(new Ie("Aborted","AbortError"))},0)};function o(u){try{return u===""&&U.location.href?U.location.href:u}catch{return u}}a.open(i.method,o(i.url),!0),i.credentials==="include"?a.withCredentials=!0:i.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&(J.blob?a.responseType="blob":J.arrayBuffer&&i.headers.get("Content-Type")&&i.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(a.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof j)?Object.getOwnPropertyNames(t.headers).forEach(function(u){a.setRequestHeader(u,go(t.headers[u]))}):i.headers.forEach(function(u,c){a.setRequestHeader(c,u)}),i.signal&&(i.signal.addEventListener("abort",s),a.onreadystatechange=function(){a.readyState===4&&i.signal.removeEventListener("abort",s)}),a.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}_o.polyfill=!0;U.fetch||(U.fetch=_o,U.Headers=j,U.Request=Fe,U.Response=se);var Qf=Object.freeze({__proto__:null,Headers:j,Request:Fe,Response:se,get DOMException(){return Ie},fetch:_o});function D_(r,t){var e=["error","timeout","abort","readystatechange"],n=[],i=["readyState","responseText","response","responseXML","responseURL","status","statusText"],a=r._passthroughRequest=new t;a.open(r.method,r.url,r.async,r.username,r.password),r.responseType==="arraybuffer"&&(i=["readyState","response","status","statusText"],a.responseType=r.responseType),"onload"in a&&e.push("load"),r.async&&r.responseType!=="arraybuffer"&&(e.push("progress"),n.push("progress"));function s(h,d,v){for(var p=0;p<h.length;p++){var y=h[p];y in d&&(v[y]=d[y])}}function o(h,d,v){h.dispatchEvent(v),h["on"+d]&&h["on"+d](v)}function u(h){a["on"+h]=function(d){s(i,a,r),o(r,h,d)}}function c(h){a.upload&&r.upload&&r.upload["on"+h]&&(a.upload["on"+h]=function(d){o(r.upload,h,d)})}var f;for(f=0;f<e.length;f++)u(e[f]);for(f=0;f<n.length;f++)c(n[f]);r.async&&(a.timeout=r.timeout,a.withCredentials=r.withCredentials),!a.timeout&&a.timeout!==0&&(a.timeout=0);for(var l in r.requestHeaders)a.setRequestHeader(l,r.requestHeaders[l]);return a}function j_(r){function t(){C.call(this)}return t.prototype=Object.create(C.prototype),t.prototype.constructor=t,t.prototype.send=function(){if(this.sendArguments=arguments,!r.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to");C.prototype.send.apply(this,arguments),r.pretender.checkPassthrough(this)?this.passthrough():r.pretender.handleRequest(this)},t.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first");var n=D_(this,r.pretender._nativeXMLHttpRequest);return n.send.apply(n,this.sendArguments),n},t.prototype._passthroughCheck=function(e,n){return this._passthroughRequest?this._passthroughRequest[e].apply(this._passthroughRequest,n):C.prototype[e].apply(this,n)},t.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},t.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},t.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},r.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),t}var As=(function(){function r(){this.length=0}return r.prototype.push=function(){return 0},r})();function pd(r,t,e){var n=0,i=r.requestBody;i&&(i instanceof FormData?i.forEach(function(a){a instanceof File?n+=a.size:n+=a.length}):n=i.byteLength||i.size||i.length||0),setTimeout(function(){if(!r.aborted&&!r.status){var a=new Date().getTime()-t.getTime(),s=e<=0?0:a/e*n;r.upload._progress(!0,s,n),r._progress(!0,s,n),pd(r,t,e)}else r.status&&(r.upload._progress(!0,n,n),r._progress(!0,n,n))},50)}function L_(r){return Object.prototype.toString.call(r)==="[object Array]"}var Zf={};function Me(r){return function(t,e,n){return this.register(r,t,e,n)}}var pr=(function(){function r(){var t=this;this.hosts=new Hs,this.handlers=[],this.get=Me("GET"),this.post=Me("POST"),this.put=Me("PUT"),this.delete=Me("DELETE"),this.patch=Me("PATCH"),this.head=Me("HEAD"),this.options=Me("OPTIONS"),this.passthrough=Zf;var e=arguments[arguments.length-1],n=typeof e=="object"?e:null,i=n&&n.trackRequests===!1;this.handledRequests=i?new As:[],this.passthroughRequests=i?new As:[],this.unhandledRequests=i?new As:[],this.requestReferences=[],this.forcePassthrough=n&&n.forcePassthrough===!0,this.disableUnhandled=n&&n.disableUnhandled===!0,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1;var a={pretender:this};this.ctx=a,self.XMLHttpRequest=j_(a),this._fetchProps=Qf?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach(function(u){t["_native"+u]=self[u],self[u]=Qf[u]},this),this.running=!0;for(var s=n?arguments.length-1:arguments.length,o=0;o<s;o++)this.map(arguments[o])}return r.prototype.map=function(t){t.call(this)},r.prototype.register=function(t,e,n,i){if(!n)throw new Error("The function you tried passing to Pretender to handle "+t+" "+e+" is undefined or missing.");var a=n;a.numberOfCalls=0,a.async=i,this.handlers.push(a);var s=this.hosts.forURL(e)[t];return s.add([{path:We(e).fullpath,handler:a}]),a},r.prototype.checkPassthrough=function(t){var e=t.method.toUpperCase(),n=We(t.url).fullpath,i=this.hosts.forURL(t.url)[e].recognize(n),a=i&&i[0];return a&&a.handler===Zf||this.forcePassthrough?(this.passthroughRequests.push(t),this.passthroughRequest(e,n,t),!0):!1},r.prototype.handleRequest=function(t){var e=t.method.toUpperCase(),n=t.url,i=this._handlerFor(e,n,t);if(i){i.handler.numberOfCalls++;var a=i.handler.async;this.handledRequests.push(t);var s=this,o=function(c){if(!L_(c)){var f="Remember to `return [status, headers, body];` in your route handler.";throw new Error("Nothing returned by handler for "+n+". "+f)}var l=c[0],h=s.prepareHeaders(c[1]),d=s.prepareBody(c[2],h);s.handleResponse(t,a,function(){t.respond(l,h,d),s.handledRequest(e,n,t)})};try{var u=i.handler(t);u&&typeof u.then=="function"?u.then(function(c){o(c)}):o(u)}catch(c){this.erroredRequest(e,n,t,c),this.resolve(t)}}else this.disableUnhandled||(this.unhandledRequests.push(t),this.unhandledRequest(e,n,t))},r.prototype.handleResponse=function(t,e,n){var i=typeof e=="function"?e():e;if(i=typeof i=="boolean"||typeof i=="number"?i:0,i===!1)n();else{var a=this;a.requestReferences.push({request:t,callback:n}),i!==!0&&(pd(t,new Date,i),setTimeout(function(){a.resolve(t)},i))}},r.prototype.resolve=function(t){for(var e=0,n=this.requestReferences.length;e<n;e++){var i=this.requestReferences[e];if(i.request===t){i.callback(),this.requestReferences.splice(e,1);break}}},r.prototype.requiresManualResolution=function(t,e){var n=this._handlerFor(t.toUpperCase(),e,{});if(!n)return!1;var i=n.handler.async;return typeof i=="function"?i()===!0:i===!0},r.prototype.prepareBody=function(t,e){return t},r.prototype.prepareHeaders=function(t){return t},r.prototype.handledRequest=function(t,e,n){},r.prototype.passthroughRequest=function(t,e,n){},r.prototype.unhandledRequest=function(t,e,n){throw new Error("Pretender intercepted "+t+" "+e+" but no handler was defined for this type of request")},r.prototype.erroredRequest=function(t,e,n,i){throw i.message="Pretender intercepted "+t+" "+e+" but encountered an error: "+i.message,i},r.prototype.shutdown=function(){var t=this;self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach(function(e){self[e]=t["_native"+e]},this),this.ctx.pretender=void 0,this.running=!1},r.prototype._handlerFor=function(t,e,n){var i=this.hosts.forURL(e)[t],a=i.recognize(We(e).fullpath),s=a?a[0]:null;return s&&(n.params=s.params,n.queryParams=a.queryParams),s},r.parseURL=We,r.Hosts=Hs,r.Registry=yo,r})();pr.parseURL=We;pr.Hosts=Hs;pr.Registry=yo;var Xf={},eh;function $_(){return eh||(eh=1,typeof re<"u"&&re.__pretenderNodePolyfill&&(delete re.self,delete re.__pretenderNodePolyfill)),Xf}$_();function th(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function z_(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?th(Object(e),!0).forEach(function(n){D(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):th(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function z(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?z=function(t){return typeof t}:z=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(r)}function E(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function H_(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function M(r,t,e){return t&&H_(r.prototype,t),r}function D(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function oe(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Yt(r,t)}function Gt(r){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(r)}function Yt(r,t){return Yt=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Yt(r,t)}function yd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ae(r,t,e){return yd()?ae=Reflect.construct:ae=function(i,a,s){var o=[null];o.push.apply(o,a);var u=Function.bind.apply(i,o),c=new u;return s&&Yt(c,s.prototype),c},ae.apply(null,arguments)}function gd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function B_(r,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gd(r)}function ue(r){var t=yd();return function(){var n=Gt(r),i;if(t){var a=Gt(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return B_(this,i)}}function Z(r,t){return md(r)||G_(r,t)||bo(r,t)||bd()}function U_(r){return md(r)||_d(r)||bo(r)||bd()}function Ze(r){return K_(r)||_d(r)||bo(r)||Y_()}function K_(r){if(Array.isArray(r))return Bs(r)}function md(r){if(Array.isArray(r))return r}function _d(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function G_(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n=[],i=!0,a=!1,s,o;try{for(e=e.call(r);!(i=(s=e.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(u){a=!0,o=u}finally{try{!i&&e.return!=null&&e.return()}finally{if(a)throw o}}return n}}function bo(r,t){if(r){if(typeof r=="string")return Bs(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Bs(r,t)}}function Bs(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Y_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(r){return(+r).toString()===r.toString()}var W_=(function(){function r(){E(this,r),this._nextId=1,this._ids={}}return M(r,[{key:"get",value:function(){return this._nextId}},{key:"set",value:function(e){if(this._ids[e])throw new Error("Attempting to use the ID ".concat(e,", but it's already been used"));V_(e)&&+e>=this._nextId&&(this._nextId=+e+1),this._ids[e]=!0}},{key:"inc",value:function(){var e=this.get()+1;return this._nextId=e,e}},{key:"fetch",value:function(){var e=this.get();return this._ids[e]=!0,this.inc(),e.toString()}},{key:"reset",value:function(){this._nextId=1,this._ids={}}}]),r})(),J_=console.warn,ee=(function(){function r(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;E(this,r),this.code=t,this.headers=e,t===204?n!==void 0&&n!==""?J_(`Mirage: One of your route handlers is returning a custom
          204 Response that has data, but this is a violation of the HTTP spec
          and could lead to unexpected behavior. 204 responses should have no
          content (an empty string) as their body.`):this.data="":(n===void 0||n==="")&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")?this.data={}:this.data=n,t!==204&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")&&(this.headers["Content-Type"]="application/json")}return M(r,[{key:"toRackResponse",value:function(){return[this.code,this.headers,this.data]}}]),r})(),ws={},Rs={},Ss={},qs={};function w(r){if(typeof ws[r]!="string"){var t=ug(ce(r)),e=t.split("/").map(_g).join("/");ws[r]=e}return ws[r]}function x(r){if(typeof Rs[r]!="string"){var t=lg(ce(r));Rs[r]=t}return Rs[r]}function ce(r){if(typeof Ss[r]!="string"){var t=cg(r);Ss[r]=t}return Ss[r]}function Vt(r){if(typeof qs[r]!="string"){var t=Vh(r);qs[r]=t}return qs[r]}function Q_(r){return Ns(r)&&r.__isAssociation__===!0}var rh=["description","fileName","lineNumber","message","name","number","stack"];function A(r,t){if(typeof r=="string"&&!t)throw new Wt(r);if(!r)throw new Wt(t.replace(/^ +/gm,"")||"Assertion failed")}function Wt(r,t){var e=Error(r);t&&(e.stack=t);for(var n=0;n<rh.length;n++){var i=rh[n];["description","message","stack"].indexOf(i)>-1?this[i]="Mirage: ".concat(e[i]):this[i]=e[i]}}Wt.prototype=Object.create(Error.prototype);var It=(function(){function r(t,e){E(this,r),this.modelName=void 0,z(t)==="object"?(this.modelName=void 0,this.opts=t):(this.modelName=t?x(t):"",this.opts=e||{}),this.name="",this.ownerModelName=""}return M(r,[{key:"setSchema",value:function(e){this.schema=e}},{key:"isReflexive",value:function(){var e=!!(this.modelName===this.ownerModelName&&this.opts.inverse),n=this.opts.inverse===void 0&&this.ownerModelName===this.modelName;return e||n}},{key:"isPolymorphic",get:function(){return this.opts.polymorphic}},{key:"type",get:function(){throw new Error("Subclasses of Association must implement a getter for type")}},{key:"foreignKey",get:function(){return this.getForeignKey()}},{key:"identifier",get:function(){throw new Error("Subclasses of Association must implement a getter for identifier")}}]),r})(),Ye={},ht=(function(r){oe(e,r);var t=ue(e);function e(){return E(this,e),t.apply(this,arguments)}return M(e,[{key:"identifier",get:function(){if(typeof Ye[this.name]!="string"){var i="".concat(w(this.name),"Id");Ye[this.name]=i}return Ye[this.name]}},{key:"type",get:function(){return"belongsTo"}},{key:"getForeignKeyArray",value:function(){return[w(this.ownerModelName),this.getForeignKey()]}},{key:"getForeignKey",value:function(){if(typeof Ye[this.name]!="string"){var i="".concat(w(this.name),"Id");Ye[this.name]=i}return Ye[this.name]}},{key:"addMethodsToModelClass",value:function(i,a){var s=i.prototype,o=this,u=this.getForeignKey(),c=D({},a,this);s.belongsToAssociations=Object.assign(s.belongsToAssociations,c),Object.keys(s.belongsToAssociations).forEach(function(f){var l=s.belongsToAssociations[f];s.belongsToAssociationFks[l.getForeignKey()]=l}),this.schema.addDependentAssociation(this,this.modelName),s.associationKeys.add(a),s.associationIdKeys.add(u),Object.defineProperty(s,u,{get:function(){this._tempAssociations=this._tempAssociations||{};var l=this._tempAssociations[a],h;return l===null?h=null:o.isPolymorphic?l?h={id:l.id,type:l.modelName}:h=this.attrs[u]:l?h=l.id:h=this.attrs[u],h},set:function(l){var h;l===null?h=null:l!==void 0&&(o.isPolymorphic?(A(z(l)==="object","You're setting an ID on the polymorphic association '".concat(o.name,"' but you didn't pass in an object. Polymorphic IDs need to be in the form { type, id }.")),h=o.schema[o.schema.toCollectionName(l.type)].find(l.id)):(h=o.schema[o.schema.toCollectionName(o.modelName)].find(l),A(h,"Couldn't find ".concat(o.modelName," with id = ").concat(l)))),this[a]=h}}),Object.defineProperty(s,a,{get:function(){this._tempAssociations=this._tempAssociations||{};var l=this._tempAssociations[a],h=this[u],d=null;return l?d=l:h!==null&&(o.isPolymorphic?d=o.schema[o.schema.toCollectionName(h.type)].find(h.id):d=o.schema[o.schema.toCollectionName(o.modelName)].find(h)),d},set:function(l){if(this._tempAssociations=this._tempAssociations||{},this._tempAssociations[a]=l,l&&l.hasInverseFor(o)){var h=l.inverseFor(o);l.associate(this,h)}}}),s["new".concat(Vt(a))]=function(){var f,l;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,l=arguments.length<=0?void 0:arguments[0]);var h=o.schema[o.schema.toCollectionName(f)].new(l);return this[a]=h,h},s["create".concat(Vt(a))]=function(){var f,l;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,l=arguments.length<=0?void 0:arguments[0]);var h=o.schema[o.schema.toCollectionName(f)].create(l);return this[a]=h,this.save(),h.reload()}}},{key:"disassociateAllDependentsFromTarget",value:function(i){var a=this,s=this.ownerModelName,o;this.isPolymorphic?o={type:i.modelName,id:i.id}:o=i.id;var u=this.schema[this.schema.toCollectionName(s)].where(function(c){var f=c[a.getForeignKey()];return f?z(f)==="object"?f.type===o.type&&f.id===o.id:f===o:!1});u.models.forEach(function(c){c.disassociate(i,a),c.save()})}}]),e})(It);function qe(r){return Array.isArray(r)?r.map(qe):Object.assign({},r)}var Z_=(function(){function r(t,e,n){E(this,r),this.name=t,this._records=[],this.identityManager=new n,e&&this.insert(e)}return M(r,[{key:"all",value:function(){return qe(this._records)}},{key:"insert",value:function(e){var n=this;return Array.isArray(e)?Tg(e,function(i){return n._insertRecord(i)}):this._insertRecord(e)}},{key:"find",value:function(e){if(Array.isArray(e)){var n=this._findRecords(e).filter(Boolean).map(qe);return n}else{var i=this._findRecord(e);return i?qe(i):null}}},{key:"findBy",value:function(e){var n=this._findRecordBy(e);return n?qe(n):null}},{key:"where",value:function(e){return this._findRecordsWhere(e).map(qe)}},{key:"firstOrCreate",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.where(e),a=Z(i,1),s=a[0];if(s)return s;var o=Object.assign(n,e),u=this.insert(o);return u}},{key:"update",value:function(e,n){var i=this,a;if(typeof n>"u"){n=e;var s=[];return this._records.forEach(function(l){var h=Object.assign({},l);i._updateRecord(l,n),Ds(h,l)||s.push(l)}),s}else if(typeof e=="number"||typeof e=="string"){var o=e,u=this._findRecord(o);return this._updateRecord(u,n),u}else if(Array.isArray(e)){var c=e;return a=this._findRecords(c),a.forEach(function(l){i._updateRecord(l,n)}),a}else if(z(e)==="object"){var f=e;return a=this._findRecordsWhere(f),a.forEach(function(l){i._updateRecord(l,n)}),a}}},{key:"remove",value:function(e){var n=this,i;if(typeof e>"u")this._records=[],this.identityManager.reset();else if(typeof e=="number"||typeof e=="string"){var a=this._findRecord(e),s=this._records.indexOf(a);this._records.splice(s,1)}else Array.isArray(e)?(i=this._findRecords(e),i.forEach(function(o){var u=n._records.indexOf(o);n._records.splice(u,1)})):z(e)==="object"&&(i=this._findRecordsWhere(e),i.forEach(function(o){var u=n._records.indexOf(o);n._records.splice(u,1)}))}},{key:"_findRecord",value:function(e){return e=e.toString(),this._records.find(function(n){return n.id===e})}},{key:"_findRecordBy",value:function(e){return this._findRecordsWhere(e)[0]}},{key:"_findRecords",value:function(e){return e.map(this._findRecord,this)}},{key:"_findRecordsWhere",value:function(e){var n=this._records;function i(s){var o=Object.keys(e);return o.every(function(u){return String(s[u])===String(e[u])})}var a=z(e)==="object"?i:e;return n.filter(a)}},{key:"_insertRecord",value:function(e){var n=qe(e);return n&&(n.id===void 0||n.id===null)?n.id=this.identityManager.fetch(n):(n.id=n.id.toString(),this.identityManager.set(n.id)),this._records.push(n),qe(n)}},{key:"_updateRecord",value:function(e,n){var i=n&&Object.prototype.hasOwnProperty.call(n,"id")?n.id.toString():null,a=e.id;if(i&&a!==i)throw new Error("Updating the ID of a record is not permitted");for(var s in n)s!=="id"&&(e[s]=n[s])}}]),r})(),Ad=(function(){function r(t,e){E(this,r),this._collections=[],this.registerIdentityManagers(e),t&&this.loadData(t)}return M(r,[{key:"loadData",value:function(e){for(var n in e)this.createCollection(n,Zg(e[n]))}},{key:"dump",value:function(){return this._collections.reduce(function(e,n){return e[n.name]=n.all(),e},{})}},{key:"createCollection",value:function(e,n){if(this[e])n&&this[e].insert(n);else{var i=this.identityManagerFor(e),a=new Z_(e,n,i);Object.defineProperty(this,e,{get:function(){var o=a.all();return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(u){o[u]=function(){return a[u].apply(a,arguments)}}),o}}),Object.defineProperty(this,"_".concat(e),{get:function(){var o=[];return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(u){o[u]=function(){return a[u].apply(a,arguments)}}),o}}),this._collections.push(a)}return this}},{key:"createCollections",value:function(){for(var e=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];i.forEach(function(s){return e.createCollection(s)})}},{key:"emptyData",value:function(){this._collections.forEach(function(e){return e.remove()})}},{key:"identityManagerFor",value:function(e){return this._identityManagers[this._container.inflector.singularize(e)]||this._identityManagers.application||W_}},{key:"registerIdentityManagers",value:function(e){this._identityManagers=e||{}}}]),r})(),fe=(function(){function r(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];E(this,r),A(t&&typeof t=="string","You must pass a `modelName` into a Collection"),this.modelName=t,this.models=e}return M(r,[{key:"length",get:function(){return this.models.length}},{key:"update",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Ce.apply(void 0,[this.models,"update"].concat(n)),this}},{key:"save",value:function(){return Ce(this.models,"save"),this}},{key:"reload",value:function(){return Ce(this.models,"reload"),this}},{key:"destroy",value:function(){return Ce(this.models,"destroy"),this}},{key:"add",value:function(e){return this.models.push(e),this}},{key:"remove",value:function(e){var n=this.models.find(function(a){return a.toString()===e.toString()});if(n){var i=this.models.indexOf(n);this.models.splice(i,1)}return this}},{key:"includes",value:function(e){return this.models.some(function(n){return n.toString()===e.toString()})}},{key:"filter",value:function(e){var n=this.models.filter(e);return new r(this.modelName,n)}},{key:"sort",value:function(e){var n=this.models.concat().sort(e);return new r(this.modelName,n)}},{key:"slice",value:function(){var e,n=(e=this.models).slice.apply(e,arguments);return new r(this.modelName,n)}},{key:"mergeCollection",value:function(e){return this.models=this.models.concat(e.models),this}},{key:"toString",value:function(){return"collection:".concat(this.modelName,"(").concat(this.models.map(function(e){return e.id}).join(","),")")}}]),r})(),X=(function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];E(this,r),this.models=t}return M(r,[{key:"length",get:function(){return this.models.length}},{key:"update",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Ce.apply(void 0,[this.models,"update"].concat(n)),this}},{key:"destroy",value:function(){return Ce(this.models,"destroy"),this}},{key:"save",value:function(){return Ce(this.models,"save"),this}},{key:"reload",value:function(){return Ce(this.models,"reload"),this}},{key:"add",value:function(e){return this.models.push(e),this}},{key:"remove",value:function(e){var n=this.models.find(function(a){return Ds(a.attrs,e.attrs)});if(n){var i=this.models.indexOf(n);this.models.splice(i,1)}return this}},{key:"includes",value:function(e){return this.models.some(function(n){return Ds(n.attrs,e.attrs)})}},{key:"filter",value:function(e){var n=this.models.filter(e);return new r(n)}},{key:"sort",value:function(e){var n=this.models.concat().sort(e);return new r(n)}},{key:"slice",value:function(){var e,n=(e=this.models).slice.apply(e,arguments);return new r(n)}},{key:"mergeCollection",value:function(e){return this.models=this.models.concat(e.models),this}},{key:"toString",value:function(){return"collection:".concat(this.modelName,"(").concat(this.models.map(function(e){return e.id}).join(","),")")}}]),r})(),Ve={},ft=(function(r){oe(e,r);var t=ue(e);function e(){return E(this,e),t.apply(this,arguments)}return M(e,[{key:"identifier",get:function(){if(typeof Ve[this.name]!="string"){var i="".concat(w(this._container.inflector.singularize(this.name)),"Ids");Ve[this.name]=i}return Ve[this.name]}},{key:"type",get:function(){return"hasMany"}},{key:"getForeignKeyArray",value:function(){return[w(this.ownerModelName),this.getForeignKey()]}},{key:"getForeignKey",value:function(){if(typeof Ve[this.name]!="string"){var i="".concat(this._container.inflector.singularize(w(this.name)),"Ids");Ve[this.name]=i}return Ve[this.name]}},{key:"addMethodsToModelClass",value:function(i,a){var s=i.prototype,o=this,u=this.getForeignKey(),c=D({},a,this);s.hasManyAssociations=Object.assign(s.hasManyAssociations,c),Object.keys(s.hasManyAssociations).forEach(function(f){var l=s.hasManyAssociations[f];s.hasManyAssociationFks[l.getForeignKey()]=l}),this.schema.addDependentAssociation(this,this.modelName),s.associationKeys.add(a),s.associationIdKeys.add(u),Object.defineProperty(s,u,{get:function(){this._tempAssociations=this._tempAssociations||{};var l=this._tempAssociations[a],h=[];return l?o.isPolymorphic?h=l.models.map(function(d){return{type:d.modelName,id:d.id}}):h=l.models.map(function(d){return d.id}):h=this.attrs[u]||[],h},set:function(l){var h;if(l===null)h=[];else if(l!==void 0)if(A(Array.isArray(l),"You must pass an array in when setting ".concat(u," on ").concat(this)),o.isPolymorphic){A(l.every(function(v){return z(v)==="object"&&z(v.type)!==void 0&&z(v.id)!==void 0}),"You must pass in an array of polymorphic identifiers (objects of shape { type, id }) when setting ".concat(u," on ").concat(this));var d=l.map(function(v){var p=v.type,y=v.id;return o.schema[o.schema.toCollectionName(p)].find(y)});h=new X(d)}else h=o.schema[o.schema.toCollectionName(o.modelName)].find(l);this[a]=h}}),Object.defineProperty(s,a,{get:function(){this._tempAssociations=this._tempAssociations||{};var l=null;if(this._tempAssociations[a])l=this._tempAssociations[a];else{if(o.isPolymorphic)if(this[u]){var h=this[u],d=h.map(function(v){var p=v.type,y=v.id;return o.schema[o.schema.toCollectionName(p)].find(y)});l=new X(d)}else l=new X(o.modelName);else this[u]?l=o.schema[o.schema.toCollectionName(o.modelName)].find(this[u]):l=new fe(o.modelName);this._tempAssociations[a]=l}return l},set:function(l){var h=this;(l instanceof fe||l instanceof X)&&(l=l.models),l=l?fr(l):[],this._tempAssociations=this._tempAssociations||{};var d;o.isPolymorphic?d=new X(l):d=new fe(o.modelName,l),this._tempAssociations[a]=d,l.forEach(function(v){if(v.hasInverseFor(o)){var p=v.inverseFor(o);v.associate(h,p)}})}}),s["new".concat(Vt(w(this._container.inflector.singularize(o.name))))]=function(){var f,l;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,l=arguments.length<=0?void 0:arguments[0]);var h=o.schema[o.schema.toCollectionName(f)].new(l),d=this[a].models;return d.push(h),this[a]=d,h},s["create".concat(Vt(w(this._container.inflector.singularize(o.name))))]=function(){var f,l;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,l=arguments.length<=0?void 0:arguments[0]);var h=o.schema[o.schema.toCollectionName(f)].create(l),d=this[a].models;return d.push(h),this[a]=d,this.save(),h.reload()}}},{key:"disassociateAllDependentsFromTarget",value:function(i){var a=this,s=this.ownerModelName,o;this.isPolymorphic?o={type:i.modelName,id:i.id}:o=i.id;var u=this.schema[this.schema.toCollectionName(s)].where(function(c){var f=c[a.getForeignKey()];return f&&f.find(function(l){return z(l)==="object"?l.type===o.type&&l.id===o.id:l===o})});u.models.forEach(function(c){c.disassociate(i,a),c.save()})}}]),e})(It),Ts={},yr=(function(){function r(){E(this,r)}return M(r,[{key:"getModelClassFromPath",value:function(e){if(e){if(typeof Ts[e]!="string"){for(var n=e.split("/"),i,a=n.length-1;a>=0;a--){var s=n[a];if(s.length&&s[0]!==":"){i=s;break}}Ts[e]=x(w(this._container.inflector.singularize(i)))}return Ts[e]}}},{key:"_getIdForRequest",value:function(e,n){var i;return e&&e.params&&e.params.id?i=e.params.id:n&&n.data&&n.data.id&&(i=n.data.id),i}},{key:"_getJsonApiDocForRequest",value:function(e,n){var i;return e&&e.requestBody&&(i=JSON.parse(e.requestBody)),this.serializerOrRegistry.normalize(i,n)}},{key:"_getAttrsForRequest",value:function(e,n){var i=this,a=this._getJsonApiDocForRequest(e,n),s=this._getIdForRequest(e,a),o={};return A(a.data&&(a.data.attributes||a.data.type||a.data.relationships),"You're using a shorthand or #normalizedRequestAttrs, but your serializer's normalize function did not return a valid JSON:API document. Consult the docs for the normalize hook on the Serializer class."),a.data.attributes&&(o=Object.keys(a.data.attributes).reduce(function(u,c){return u[w(c)]=a.data.attributes[c],u},{})),a.data.relationships&&Object.keys(a.data.relationships).forEach(function(u){var c=a.data.relationships[u],f=i.schema.modelClassFor(n),l=f.associationFor(w(u)),h;A(l,"You're passing the relationship '".concat(u,"' to the '").concat(n,"' model via a ").concat(e.method," to '").concat(e.url,"', but you did not define the '").concat(u,"' association on the '").concat(n,"' model.")),l.isPolymorphic?h=c.data:l instanceof ft?h=c.data&&c.data.map(function(d){return d.id}):h=c.data&&c.data.id,o[l.identifier]=h},{}),s&&(o.id=s),o}},{key:"_getAttrsForFormRequest",value:function(e){var n=e.requestBody,i,a=[];return A(n&&typeof n=="string","You're using the helper method #normalizedFormData, but the request body is empty or not a valid url encoded string."),a=n.split("&"),i=a.reduce(function(s,o){var u=o.split("="),c=Z(u,2),f=c[0],l=c[1];return s[f]=decodeURIComponent(l.replace(/\+/g," ")),s},{}),i}}]),r})(),wd=(function(r){oe(e,r);var t=ue(e);function e(n,i,a,s,o){var u;return E(this,e),u=t.call(this,o),u.schema=n,u.serializerOrRegistry=i,u.userFunction=a,u.path=s,u}return M(e,[{key:"handle",value:function(i){return this.userFunction(this.schema,i)}},{key:"setRequest",value:function(i){this.request=i}},{key:"serialize",value:function(i,a){var s;return a?s=this.serializerOrRegistry.serializerFor(a,{explicit:!0}):s=this.serializerOrRegistry,s.serialize(i,this.request)}},{key:"normalizedRequestAttrs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=this.path,s=this.request,o=this.request.requestHeaders,u,c={};for(var f in o)c[f.toLowerCase()]=o[f];return/x-www-form-urlencoded/.test(c["content-type"])?u=this._getAttrsForFormRequest(s):(i?A(x(i)===i,"You called normalizedRequestAttrs('".concat(i,"'), but normalizedRequestAttrs was intended to be used with the dasherized version of the model type. Please change this to normalizedRequestAttrs('").concat(x(i),"').")):i=this.getModelClassFromPath(a),A(this.schema.hasModelForModelName(i),"You're using a shorthand or the #normalizedRequestAttrs helper but the detected model of '".concat(i,"' does not exist. You might need to pass in the correct modelName as the first argument to #normalizedRequestAttrs.")),u=this._getAttrsForRequest(s,i)),u}}]),e})(yr),X_=(function(){function r(t,e,n){E(this,r),this.schema=t,this.serializerOrRegistry=e,this.object=n}return M(r,[{key:"handle",value:function(){return this.object}}]),r})(),Ct=(function(r){oe(e,r);var t=ue(e);function e(n,i,a,s){var o,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};E(this,e),o=t.call(this),a=a||o.getModelClassFromPath(s),o.schema=n,o.serializerOrRegistry=i,o.shorthand=a,o.options=u;var c=Array.isArray(a)?"array":z(a);if(c==="string"){var f=o.schema[o.schema.toCollectionName(a)];o.handle=function(h){return o.handleStringShorthand(h,f)}}else if(c==="array"){var l=a.map(function(h){return o.schema[o.schema.toCollectionName(h)]});o.handle=function(h){return o.handleArrayShorthand(h,l)}}return o}return e})(yr),eb=(function(r){oe(e,r);var t=ue(e);function e(){return E(this,e),t.apply(this,arguments)}return M(e,[{key:"handleStringShorthand",value:function(i,a){var s=this.shorthand,o=w(s);A(a,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getIdForRequest(i);if(u){var c=a.find(u);return c||new ee(404)}else if(this.options.coalesce){var f=this.serializerOrRegistry.getCoalescedIds(i,o);if(f)return a.find(f)}return a.all()}},{key:"handleArrayShorthand",value:function(i,a){var s=this.shorthand,o=this._getIdForRequest(i);return A(!o||this._container.inflector.singularize(s[0])!==s[0],`It looks like you're using the "Single record with
      related records" version of the array shorthand, in addition to opting
      in to the model layer. This shorthand was made when there was no
      serializer layer. Now that you're using models, please ensure your
      relationships are defined, and create a serializer for the parent
      model, adding the relationships there.`),a.map(function(u){return u.all()})}}]),e})(Ct),tb=(function(r){oe(e,r);var t=ue(e);function e(){return E(this,e),t.apply(this,arguments)}return M(e,[{key:"handleStringShorthand",value:function(i,a){var s=this.shorthand,o=w(s);A(a,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getAttrsForRequest(i,a.camelizedModelName);return a.create(u)}}]),e})(Ct),rb=(function(r){oe(e,r);var t=ue(e);function e(){return E(this,e),t.apply(this,arguments)}return M(e,[{key:"handleStringShorthand",value:function(i,a){var s=this.shorthand,o=w(s);A(a,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getIdForRequest(i),c=a.find(u);if(!c)return new ee(404);var f=this._getAttrsForRequest(i,a.camelizedModelName);return c.update(f)}}]),e})(Ct),nb=(function(r){oe(e,r);var t=ue(e);function e(){return E(this,e),t.apply(this,arguments)}return M(e,[{key:"handleStringShorthand",value:function(i,a){var s=this.shorthand,o=w(s);A(a,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getIdForRequest(i),c=a.find(u);if(!c)return new ee(404);c.destroy()}},{key:"handleArrayShorthand",value:function(i,a){var s=this,o=this._getIdForRequest(i),u=a[0].find(o),c=a.slice(1).map(function(f){return s._container.inflector.pluralize(f.camelizedModelName)});c.forEach(function(f){return u[f].destroy()}),u.destroy()}}]),e})(Ct),ib=(function(r){oe(e,r);var t=ue(e);function e(){return E(this,e),t.apply(this,arguments)}return M(e,[{key:"handleStringShorthand",value:function(i,a){var s=this.shorthand,o=w(s);A(a,"The route handler for ".concat(i.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var u=this._getIdForRequest(i);if(u){var c=a.find(u);return c?new ee(204):new ee(404)}else if(this.options.coalesce&&i.queryParams&&i.queryParams.ids){var f=a.find(i.queryParams.ids);return f?new ee(204):new ee(404)}else return new ee(204)}}]),e})(Ct),ab={get:200,put:204,post:201,delete:204};function sb(r){var t=r.verb,e=r.schema,n=r.serializerOrRegistry,i=r.path,a=r.rawHandler,s=r.options,o=r.middleware,u,c=[e,n,a,i,s,o],f=z(a);return f==="function"?u=ae(wd,c):f==="object"&&a?u=ae(X_,c):t==="get"?u=ae(eb,c):t==="post"?u=ae(tb,c):t==="put"||t==="patch"?u=ae(rb,c):t==="delete"?u=ae(nb,c):t==="head"&&(u=ae(ib,c)),u}var Rd=(function(){function r(t){var e=t.schema,n=t.verb,i=t.rawHandler,a=t.customizedCode,s=t.options,o=t.path,u=t.serializerOrRegistry,c=t.middleware;E(this,r),this.verb=n,this.customizedCode=a,this.serializerOrRegistry=u,this.middleware=c||[],this.handler=sb({verb:n,schema:e,path:o,serializerOrRegistry:u,rawHandler:i,options:s})}return M(r,[{key:"handle",value:function(e){var n=this;return this._getMirageResponseForRequest(e,this.middleware).then(function(i){return n.serialize(i,e)}).then(function(i){return i.toRackResponse()})}},{key:"_getMirageResponseForRequest",value:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a;try{this.handler instanceof wd&&this.handler.setRequest(e),a=this.handleWithMiddleware(e,[].concat(Ze(i),[function(o,u){return n.handler.handle(u)}]))}catch(o){if(o instanceof Wt)a=new ee(500,{},o);else{var s=o.message||o;a=new ee(500,{},{message:s,stack:"Mirage: Your ".concat(e.method," handler for the url ").concat(e.url,` threw an error:

`).concat(o.stack||o)})}}return this._toMirageResponse(a)}},{key:"handleWithMiddleware",value:function(e,n){var i=this,a=U_(n),s=a[0],o=a.slice(1);return s(this.schema,e,function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e;return i.handleWithMiddleware(u,o)})}},{key:"_toMirageResponse",value:function(e){var n=this,i;return new Promise(function(a,s){Promise.resolve(e).then(function(o){if(o instanceof ee)i=e;else{var u=n._getCodeForResponse(o);i=new ee(u,{},o)}a(i)}).catch(s)})}},{key:"_getCodeForResponse",value:function(e){var n;return this.customizedCode?n=this.customizedCode:(n=ab[this.verb],n===204&&e!==void 0&&e!==""&&(n=200)),n}},{key:"serialize",value:function(e,n){return e.data=this.serializerOrRegistry.serialize(e.data,n),e}}]),r})();function Sd(r,t){var e=(function(n){oe(a,n);var i=ue(a);function a(){var s;E(this,a);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];if(s=i.call.apply(i,[this].concat(u)),r&&hm(r,"constructor")){var f;(f=r.constructor).call.apply(f,[gd(s)].concat(u))}return s}return a})(this);return Object.assign(e,this,t),r&&Object.assign(e.prototype,r),e}var at=(function(){function r(t,e,n,i){var a=this;return E(this,r),A(t,"A model requires a schema"),A(e,"A model requires a modelName"),this._schema=t,this.modelName=e,this.fks=i||[],this.attrs={},n=n||{},this.fks.forEach(function(s){a.attrs[s]=n[s]!==void 0?n[s]:null}),Object.keys(n).forEach(function(s){var o=n[s];a._validateAttr(s,o),a._setupAttr(s,o),a._setupRelationship(s,o)}),this}return M(r,[{key:"save",value:function(){var e=this._schema.toInternalCollectionName(this.modelName);return this.isNew()?(this.attrs=this._schema.db[e].insert(this.attrs),this._definePlainAttribute("id")):(this._schema.isSaving[this.toString()]=!0,this._schema.db[e].update(this.attrs.id,this.attrs)),this._saveAssociations(),this._schema.isSaving[this.toString()]=!1,this}},{key:"update",value:function(e,n){var i;return e==null?this:(z(e)==="object"?i=e:(i={})[e]=n,Object.keys(i).forEach(function(a){!this.associationKeys.has(a)&&!this.associationIdKeys.has(a)&&this._definePlainAttribute(a),this[a]=i[a]},this),this.save(),this)}},{key:"destroy",value:function(){if(this.isSaved()){this._disassociateFromDependents();var e=this._schema.toInternalCollectionName(this.modelName);this._schema.db[e].remove(this.attrs.id)}}},{key:"isNew",value:function(){var e=!1,n=this.attrs.id!==void 0&&this.attrs.id!==null;if(n){var i=this._schema.toInternalCollectionName(this.modelName),a=this._schema.db[i].find(this.attrs.id);a&&(e=!0)}return!e}},{key:"isSaved",value:function(){return!this.isNew()}},{key:"reload",value:function(){if(this.id){var e=this._schema.toInternalCollectionName(this.modelName),n=this._schema.db[e].find(this.id);Object.keys(n).filter(function(i){return i!=="id"}).forEach(function(i){this.attrs[i]=n[i]},this)}return this._tempAssociations={},this}},{key:"toJSON",value:function(){return z_({},this.attrs)}},{key:"associations",get:function(){return this._schema.associationsFor(this.modelName)}},{key:"associationFor",value:function(e){return this.associations[e]}},{key:"inverseFor",value:function(e){return this._explicitInverseFor(e)||this._implicitInverseFor(e)}},{key:"_explicitInverseFor",value:function(e){this._checkForMultipleExplicitInverses(e);var n=this._schema.associationsFor(this.modelName),i=e.opts.inverse,a=i?n[i]:null,s=a&&a.isPolymorphic,o=a&&a.modelName===e.ownerModelName,u=a&&a.opts.inverse;return u&&a.opts.inverse!==e.name&&A(!1,"You specified an inverse of ".concat(i," for ").concat(e.name,", but it does not match ").concat(a.modelName," ").concat(a.name,"'s inverse")),s||o?a:null}},{key:"_checkForMultipleExplicitInverses",value:function(e){var n=this._schema.associationsFor(this.modelName),i=Object.keys(n).filter(function(a){var s=n[a],o=e.ownerModelName===s.modelName,u=e.name===s.opts.inverse;return o&&u});A(i.length<=1,"The ".concat(this.modelName," model has defined multiple explicit inverse associations for the ").concat(e.ownerModelName,".").concat(e.name," association."))}},{key:"_implicitInverseFor",value:function(e){var n=this,i=this._schema.associationsFor(this.modelName),a=e.ownerModelName;return Qa(i).filter(function(s){return s.modelName===a}).reduce(function(s,o){var u=o.opts.inverse,c=u===void 0,f=u===e.name,l=c||f;return l&&(A(!s,"The ".concat(n.modelName," model has multiple possible inverse associations for the ").concat(e.ownerModelName,".").concat(e.name," association.")),s=o),s},null)}},{key:"hasInverseFor",value:function(e){return!!this.inverseFor(e)}},{key:"alreadyAssociatedWith",value:function(e,n){var i=this[n.name];if(i&&e)return i instanceof r?i.isSaved()&&e.isSaved()?i.toString()===e.toString():i===e:i.includes(e)}},{key:"associate",value:function(e,n){if(!this.alreadyAssociatedWith(e,n)){var i=n.name;n instanceof ft?this[i].includes(e)||this[i].add(e):this[i]=e}}},{key:"disassociate",value:function(e,n){var i=n.getForeignKey();if(n instanceof ft){var a;if(n.isPolymorphic){var s=this[i].find(function(o){var u=o.type,c=o.id;return u===e.modelName&&c===e.id});a=s&&this[i].indexOf(s)}else a=this[i].map(function(o){return o.toString()}).indexOf(e.id.toString());a>-1&&this.attrs[i].splice(a,1)}else this.attrs[i]=null}},{key:"isSaving",get:function(){return this._schema.isSaving[this.toString()]}},{key:"_setupAttr",value:function(e,n){var i=this.associationKeys.has(e)||this.associationIdKeys.has(e);i||(this.attrs[e]=n,this._definePlainAttribute(e))}},{key:"_definePlainAttribute",value:function(e){var n=Object.getOwnPropertyDescriptor(this,e);n&&n.get||(Object.prototype.hasOwnProperty.call(this.attrs,e)||(this.attrs[e]=null),Object.defineProperty(this,e,{get:function(){return this.attrs[e]},set:function(a){this.attrs[e]=a}}))}},{key:"_setupRelationship",value:function(e,n){var i=this.associationIdKeys.has(e)||this.fks.includes(e),a=this.associationKeys.has(e);i&&(n!=null&&this._validateForeignKeyExistsInDatabase(e,n),this.attrs[e]=n),a&&(this[e]=n)}},{key:"_validateAttr",value:function(e,n){if(this.associationKeys.has(e)){var i=this.associationFor(e),a=n===null;if(i instanceof ft){var s=n instanceof fe||n instanceof X,o=Array.isArray(n)&&n.every(function(d){return d instanceof r});A(s||o||a,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(e," key, but that key is a HasMany relationship. You must pass in a Collection, PolymorphicCollection, array of Models, or null."))}else i instanceof ht&&A(n instanceof r||a,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(e," key, but that key is a BelongsTo relationship. You must pass in a Model or null."))}if(this.associationIdKeys.has(e)&&e.endsWith("Ids")){var u=Array.isArray(n),c=n===null;A(u||c,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(e," key, but that key is a foreign key for a HasMany relationship. You must pass in an array of ids or null."))}{var f=n instanceof r||n instanceof fe||n instanceof X,l=Array.isArray(n)&&n.length&&n.every(function(d){return d instanceof r});if(f||l){var h=n;A(this.associationKeys.has(e),"You're trying to create a ".concat(this.modelName," model and you passed in a ").concat(h.toString()," under the ").concat(e," key, but you haven't defined that key as an association on your model."))}}}},{key:"_validateForeignKeyExistsInDatabase",value:function(e,n){var i=this;if(Array.isArray(n)){var a=this.hasManyAssociationFks[e],s;a.isPolymorphic?(s=n.map(function(l){var h=l.type,d=l.id;return i._schema.db[i._schema.toInternalCollectionName(h)].find(d)}),s=fr(s)):s=this._schema.db[this._schema.toInternalCollectionName(a.modelName)].find(n);var o=a.isPolymorphic?n.map(function(l){return"".concat(l.type,":").concat(l.id)}).join(","):n;A(s.length===n.length,"You're instantiating a ".concat(this.modelName," that has a ").concat(e," of ").concat(o,", but some of those records don't exist in the database."))}else{var u=this.belongsToAssociationFks[e],c;u.isPolymorphic?c=this._schema.db[this._schema.toInternalCollectionName(n.type)].find(n.id):c=this._schema.db[this._schema.toInternalCollectionName(u.modelName)].find(n);var f=u.isPolymorphic?"".concat(n.type,":").concat(n.id):n;A(c,"You're instantiating a ".concat(this.modelName," that has a ").concat(e," of ").concat(f,", but that record doesn't exist in the database."))}}},{key:"_saveAssociations",value:function(){this._saveBelongsToAssociations(),this._saveHasManyAssociations()}},{key:"_saveBelongsToAssociations",value:function(){var e=this;Qa(this.belongsToAssociations).forEach(function(n){e._disassociateFromOldInverses(n),e._saveNewAssociates(n),e._associateWithNewInverses(n)})}},{key:"_saveHasManyAssociations",value:function(){var e=this;Qa(this.hasManyAssociations).forEach(function(n){e._disassociateFromOldInverses(n),e._saveNewAssociates(n),e._associateWithNewInverses(n)})}},{key:"_disassociateFromOldInverses",value:function(e){e instanceof ft?this._disassociateFromHasManyInverses(e):e instanceof ht&&this._disassociateFromBelongsToInverse(e)}},{key:"_disassociateFromHasManyInverses",value:function(e){var n=this,i=e.getForeignKey(),a=this._tempAssociations&&this._tempAssociations[e.name],s=this.attrs[i];if(a&&s){var o;e.isPolymorphic?o=s.map(function(u){var c=u.type,f=u.id;return n._schema[n._schema.toCollectionName(c)].find(f)}):o=this._schema[this._schema.toCollectionName(e.modelName)].find(s||[]).models,o.filter(function(u){return!u.isSaving&&!a.includes(u)&&u.hasInverseFor(e)}).forEach(function(u){var c=u.inverseFor(e);u.disassociate(n,c),u.save()})}}},{key:"_disassociateFromBelongsToInverse",value:function(e){var n=e.getForeignKey(),i=this._tempAssociations&&this._tempAssociations[e.name],a=this.attrs[n];if(i!==void 0&&a){var s;if(e.isPolymorphic?s=this._schema[this._schema.toCollectionName(a.type)].find(a.id):s=this._schema[this._schema.toCollectionName(e.modelName)].find(a),s.hasInverseFor(e)){var o=s.inverseFor(e);s.disassociate(this,o),s._updateInDb(s.attrs)}}}},{key:"_disassociateFromDependents",value:function(){var e=this;this._schema.dependentAssociationsFor(this.modelName).forEach(function(n){n.disassociateAllDependentsFromTarget(e)})}},{key:"_saveNewAssociates",value:function(e){var n=e.getForeignKey(),i=this._tempAssociations&&this._tempAssociations[e.name];if(i!==void 0){if(this.__isSavingNewChildren=!0,delete this._tempAssociations[e.name],i instanceof fe)i.models.filter(function(s){return!s.isSaving}).forEach(function(s){s.save()}),this._updateInDb(D({},n,i.models.map(function(s){return s.id})));else if(i instanceof X)i.models.filter(function(s){return!s.isSaving}).forEach(function(s){s.save()}),this._updateInDb(D({},n,i.models.map(function(s){return{type:s.modelName,id:s.id}})));else if(i===null)this._updateInDb(D({},n,null));else if(this.equals(i))this._updateInDb(D({},n,this.id));else if(!i.isSaving){i.save(),this._syncTempAssociations(i);var a;e.isPolymorphic?a={id:i.id,type:i.modelName}:a=i.id,this._updateInDb(D({},n,a))}this.__isSavingNewChildren=!1}}},{key:"_associateWithNewInverses",value:function(e){var n=this;if(!this.__isSavingNewChildren){var i=this[e.name];i instanceof r?this._associateModelWithInverse(i,e):(i instanceof fe||i instanceof X)&&i.models.forEach(function(a){n._associateModelWithInverse(a,e)}),delete this._tempAssociations[e.name]}}},{key:"_associateModelWithInverse",value:function(e,n){var i=this;if(e.hasInverseFor(n)){var a=e.inverseFor(n),s=a.getForeignKey(),o=this.id;if(a instanceof ht){var u;a.isPolymorphic?u={type:this.modelName,id:o}:u=o,this._schema.db[this._schema.toInternalCollectionName(e.modelName)].update(e.id,D({},s,u))}else{var c=this._schema.db[this._schema.toInternalCollectionName(e.modelName)],f=c.find(e.id)[a.getForeignKey()]||[],l=Object.assign([],f),h,d;a.isPolymorphic?(h={type:this.modelName,id:o},d=l.some(function(v){return v.type==i.modelName&&v.id==o})):(h=o,d=l.includes(o)),d||l.push(h),c.update(e.id,D({},s,l))}}}},{key:"_updateInDb",value:function(e){this.attrs=this._schema.db[this._schema.toInternalCollectionName(this.modelName)].update(this.attrs.id,e)}},{key:"_syncTempAssociations",value:function(e){var n=this;Object.keys(this._tempAssociations).forEach(function(i){n._tempAssociations[i]&&n._tempAssociations[i].toString()===e.toString()&&(n._tempAssociations[i]=e)})}},{key:"toString",value:function(){var e=this.id?"(".concat(this.id,")"):"";return"model:".concat(this.modelName).concat(e)}},{key:"equals",value:function(e){return this.toString()===e.toString()}}]),r})();at.extend=Sd;at.findBelongsToAssociation=function(r){return this.prototype.belongsToAssociations[r]};var ne=(function(){function r(t,e){var n=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};E(this,r),this.registry=t,this.type=e,this.request=i,this.attrs=this.attrs||void 0,this.include=this.include||[],this.root=this.root||void 0,this.embed=this.embed||void 0,this._embedFn=Uo(this.embed)?this.embed:function(){return!!n.embed},this.serializeIds=this.serializeIds||void 0,this.primaryKey=this.primaryKey||void 0}return M(r,[{key:"serialize",value:function(e){return this.primaryResource=e,this.buildPayload(e)}},{key:"normalize",value:function(e){return e}},{key:"buildPayload",value:function(e,n,i,a){if(!e&&js(n))return a;if(e){var s=this.getHashForPrimaryResource(e),o=Z(s,2),u=o[0],c=o[1],f=this.isCollection(e)?e.models:[e];return this.buildPayload(void 0,c,f,u)}else{var l=n.shift(),h=this.getHashForIncludedResource(l),d=Z(h,2),v=d[0],p=d[1],y=p.filter(function(b){return!i.map(function(_){return _.toString()}).includes(b.toString())}).concat(n),m=(this.isCollection(l)?l.models:[l]).concat(i),g=this.mergePayloads(a,v);return this.buildPayload(void 0,y,m,g)}}},{key:"getHashForPrimaryResource",value:function(e){var n=this.getHashForResource(e),i=Z(n,2),a=i[0],s=i[1],o;if(this.root){A(!(e instanceof X),"The base Serializer class cannot serialize a top-level PolymorphicCollection when root is true, since PolymorphicCollections have no type.");var u=this.serializerFor(e.modelName),c=u.keyForResource(e);o=D({},c,a)}else o=a;return[o,s]}},{key:"getHashForIncludedResource",value:function(e){var n,i;if(e instanceof X)n={},i=e.models;else{var a=this.serializerFor(e.modelName),s=a.getHashForResource(e),o=Z(s,2),u=o[0],c=o[1],f=a.keyForRelationship(e.modelName);n=Array.isArray(u)?D({},f,u):D({},f,[u]),i=c}return[n,i]}},{key:"getHashForResource",value:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this,u;s&&e.modelName&&(o=this.serializerFor(e.modelName)),this.isModel(e)?u=o._hashForModel(e,i,a):u=e.models.map(function(f){var l=o;return l||(l=n.serializerFor(f.modelName)),l._hashForModel(f,i,a)});var c=nd(fr(Bh(o.getKeysForIncluded().map(function(f){return n.isCollection(e)?e.models.map(function(l){return l[f]}):e[f]}))),function(f){return f.toString()});return[u,c]}},{key:"mergePayloads",value:function(e,n){var i,a=Object.keys(n),s=Z(a,1),o=s[0];return e[o]?(i=e,i[o]=e[o].concat(n[o])):i=Object.assign(e,n),i}},{key:"keyForResource",value:function(e){var n=e.modelName;return this.isModel(e)?this.keyForModel(n):this.keyForCollection(n)}},{key:"keyForModel",value:function(e){return w(e)}},{key:"keyForCollection",value:function(e){return this._container.inflector.pluralize(this.keyForModel(e))}},{key:"_hashForModel",value:function(e,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this._attrsForModel(e);if(n&&e.fks.forEach(function(u){delete s[u]}),this.embed){var o=Object.assign({},a);o[e.modelName]=o[e.modelName]||{},o[e.modelName][e.id]=!0,this.getKeysForEmbedded().forEach(function(u){var c=e[u];if(c&&!rd(o,"".concat(c.modelName,".").concat(c.id))){var f=i.getHashForResource(c,!0,o,!0),l=Z(f,1),h=l[0],d=i.keyForEmbeddedRelationship(u);if(s[d]=h,i.isModel(c)){var v="".concat(w(u),"Id");delete s[v]}}})}return this._maybeAddAssociationIds(e,s)}},{key:"_attrsForModel",value:function(e){var n={};return this.attrs?n=this.attrs.reduce(function(i,a){return i[a]=e[a],i},{}):n=Object.assign(n,e.attrs),e.fks.forEach(function(i){return delete n[i]}),this._formatAttributeKeys(n)}},{key:"_maybeAddAssociationIds",value:function(e,n){var i=this,a=Object.assign({},n);return this.serializeIds==="always"?Ze(e.associationKeys).filter(function(s){return!i._embedFn(s)}).forEach(function(s){var o=e[s],u=e.associationFor(s);if(i.isCollection(o)){var c=i.keyForRelationshipIds(s);a[c]=e["".concat(i._container.inflector.singularize(s),"Ids")]}else if(i.isModel(o)&&u.isPolymorphic){var f=i.keyForPolymorphicForeignKeyType(s),l=i.keyForPolymorphicForeignKeyId(s);a[f]=e["".concat(s,"Id")].type,a[l]=e["".concat(s,"Id")].id}else if(o){var h=i.keyForForeignKey(s);a[h]=e["".concat(s,"Id")]}}):this.serializeIds==="included"&&this.getKeysForIncluded().forEach(function(s){var o=e[s],u=e.associationFor(s);if(i.isCollection(o)){var c=i.keyForRelationshipIds(s);a[c]=e["".concat(i._container.inflector.singularize(s),"Ids")]}else if(i.isModel(o)&&u.isPolymorphic){var f=i.keyForPolymorphicForeignKeyType(s),l=i.keyForPolymorphicForeignKeyId(s);a[f]=e["".concat(s,"Id")].type,a[l]=e["".concat(s,"Id")].id}else if(i.isModel(o)){var h=i.keyForForeignKey(s);a[h]=e["".concat(s,"Id")]}}),a}},{key:"keyForAttribute",value:function(e){return e==="id"?this.keyForId():e}},{key:"keyForRelationship",value:function(e){return w(this._container.inflector.pluralize(e))}},{key:"keyForEmbeddedRelationship",value:function(e){return w(e)}},{key:"keyForRelationshipIds",value:function(e){return"".concat(this._container.inflector.singularize(w(e)),"Ids")}},{key:"keyForForeignKey",value:function(e){return"".concat(w(e),"Id")}},{key:"keyForPolymorphicForeignKeyId",value:function(e){return"".concat(w(e),"Id")}},{key:"keyForPolymorphicForeignKeyType",value:function(e){return"".concat(w(e),"Type")}},{key:"isModel",value:function(e){return e instanceof at}},{key:"isCollection",value:function(e){return e instanceof fe||e instanceof X}},{key:"isModelOrCollection",value:function(e){return this.isModel(e)||this.isCollection(e)}},{key:"serializerFor",value:function(e){return this.registry.serializerFor(e)}},{key:"getAssociationKeys",value:function(){return Uo(this.include)?this.include(this.request,this.primaryResource):this.include}},{key:"getKeysForEmbedded",value:function(){var e=this;return this.getAssociationKeys().filter(function(n){return e._embedFn(n)})}},{key:"getKeysForIncluded",value:function(){var e=this;return this.getAssociationKeys().filter(function(n){return!e._embedFn(n)})}},{key:"schema",get:function(){return this.registry.schema}},{key:"keyForId",value:function(){return this.primaryKey}},{key:"valueForId",value:function(e){return e}},{key:"_formatAttributeKeys",value:function(e){var n={};for(var i in e){var a=e[i];i==="id"&&(a=this.valueForId(a));var s=this.keyForAttribute(i);n[s]=a}return n}},{key:"getCoalescedIds",value:function(){}}]),r})();ne.prototype.include=[];ne.prototype.root=!0;ne.prototype.embed=!1;ne.prototype.primaryKey="id";ne.prototype.serializeIds="included";ne.extend=Sd;var qd=(function(r){oe(e,r);var t=ue(e);function e(){var n;return E(this,e),n=t.apply(this,arguments),n.alwaysIncludeLinkageData=n.alwaysIncludeLinkageData||void 0,n}return M(e,[{key:"keyForModel",value:function(i){return x(i)}},{key:"keyForCollection",value:function(i){return x(i)}},{key:"keyForAttribute",value:function(i){return x(i)}},{key:"keyForRelationship",value:function(i){return x(i)}},{key:"links",value:function(){}},{key:"getHashForPrimaryResource",value:function(i){this._createRequestedIncludesGraph(i);var a=this.getHashForResource(i),s={data:a},o=this.getAddToIncludesForResource(i);return[s,o]}},{key:"getHashForIncludedResource",value:function(i){var a=this.serializerFor(i.modelName),s=a.getHashForResource(i),o={included:this.isModel(i)?[s]:s},u=[];return this.hasQueryParamIncludes()||(u=this.getAddToIncludesForResource(i)),[o,u]}},{key:"getHashForResource",value:function(i){var a=this,s;return this.isModel(i)?s=this.getResourceObjectForModel(i):s=i.models.map(function(o){return a.getResourceObjectForModel(o)}),s}},{key:"getAddToIncludesForResource",value:function(i){var a;if(this.hasQueryParamIncludes())a=this.getQueryParamIncludes();else{var s=this.serializerFor(i.modelName);a=s.getKeysForIncluded()}return this.getAddToIncludesForResourceAndPaths(i,a)}},{key:"getAddToIncludesForResourceAndPaths",value:function(i,a){var s=this,o=[];return a.forEach(function(u){var c=u.split("."),f=s.getIncludesForResourceAndPath.apply(s,[i].concat(Ze(c)));o.push(f)}),nd(fr(Bh(o)),function(u){return u.toString()})}},{key:"getIncludesForResourceAndPath",value:function(i){for(var a=this,s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];var c=w(o.shift()),f=[],l=[];if(this.isModel(i)){var h=i[c];this.isModel(h)?l=[h]:this.isCollection(h)&&(l=h.models)}else i.models.forEach(function(d){var v=d[c];a.isModel(v)?l.push(v):a.isCollection(v)&&(l=l.concat(v.models))});return f=f.concat(l),o.length&&l.forEach(function(d){f=f.concat(a.getIncludesForResourceAndPath.apply(a,[d].concat(o)))}),f}},{key:"getResourceObjectForModel",value:function(i){var a=this._attrsForModel(i,!0);delete a.id;var s={type:this.typeKeyForModel(i),id:i.id,attributes:a};return this._maybeAddRelationshipsToResourceObjectForModel(s,i)}},{key:"_maybeAddRelationshipsToResourceObjectForModel",value:function(i,a){var s=this,o={};return a.associationKeys.forEach(function(u){var c=a[u],f=s.keyForRelationship(u),l={};if(s.hasLinksForRelationship(a,u)){var h=s.serializerFor(a.modelName),d=h.links(a);l.links=d[u]}if(s.alwaysIncludeLinkageData||s.shouldIncludeLinkageData(u,a)||s._relationshipIsIncludedForModel(u,a)){var v=null;s.isModel(c)?v={type:s.typeKeyForModel(c),id:c.id}:s.isCollection(c)&&(v=c.models.map(function(p){return{type:s.typeKeyForModel(p),id:p.id}})),l.data=v}js(l)||(o[f]=l)}),js(o)||(i.relationships=o),i}},{key:"hasLinksForRelationship",value:function(i,a){var s=this.serializerFor(i.modelName),o=s.links&&s.links(i);return o&&o[a]!=null}},{key:"_relationshipIsIncludedForModel",value:function(i,a){if(this.hasQueryParamIncludes()){var s=this.request._includesGraph,o=this._graphKeyForModel(a),u;return s.data[o]?u=s.data[o]:s.included[this._container.inflector.pluralize(a.modelName)]&&(u=s.included[this._container.inflector.pluralize(a.modelName)][o]),u&&u.relationships&&Object.prototype.hasOwnProperty.call(u.relationships,x(i))}else{var c=this.getKeysForIncluded();return c.includes(i)}}},{key:"_createRequestedIncludesGraph",value:function(i){var a=this,s={data:{}};if(this.isModel(i)){var o=this._graphKeyForModel(i);s.data[o]={},this._addPrimaryModelToRequestedIncludesGraph(s,i)}else this.isCollection(i)&&i.models.forEach(function(u){var c=a._graphKeyForModel(u);s.data[c]={},a._addPrimaryModelToRequestedIncludesGraph(s,u)});this.request._includesGraph=s}},{key:"_addPrimaryModelToRequestedIncludesGraph",value:function(i,a){var s=this;if(this.hasQueryParamIncludes()){var o=this._graphKeyForModel(a);this.getQueryParamIncludes().filter(function(u){return!!u.trim()}).forEach(function(u){i.data[o].relationships=i.data[o].relationships||{};var c=u.split(".").map(x),f=c[0],l=f,h=w(f),d=a.associationKeys.has(h);A(d,'You tried to include "'.concat(f,'" with ').concat(a,' but no association named "').concat(h,'" is defined on the model.'));var v=a[h],p;s.isModel(v)?p=s._graphKeyForModel(v):s.isCollection(v)?p=v.models.map(s._graphKeyForModel):p=null,i.data[o].relationships[l]=p,v&&s._addResourceToRequestedIncludesGraph(i,v,c.slice(1))})}}},{key:"_addResourceToRequestedIncludesGraph",value:function(i,a,s){var o=this;i.included=i.included||{};var u=this.isCollection(a)?a.models:[a];u.forEach(function(c){var f=o._container.inflector.pluralize(c.modelName);i.included[f]=i.included[f]||{},o._addModelToRequestedIncludesGraph(i,c,s)})}},{key:"_addModelToRequestedIncludesGraph",value:function(i,a,s){var o=this._container.inflector.pluralize(a.modelName),u=this._graphKeyForModel(a);i.included[o][u]=i.included[o][u]||{},s.length&&this._addResourceRelationshipsToRequestedIncludesGraph(i,o,u,a,s)}},{key:"_addResourceRelationshipsToRequestedIncludesGraph",value:function(i,a,s,o,u){i.included[a][s].relationships=i.included[a][s].relationships||{};var c=u[0],f=o[w(c)],l;this.isModel(f)?l=this._graphKeyForModel(f):this.isCollection(f)&&(l=f.models.map(this._graphKeyForModel)),i.included[a][s].relationships[c]=l,f&&this._addResourceToRequestedIncludesGraph(i,f,u.slice(1))}},{key:"_graphKeyForModel",value:function(i){return"".concat(i.modelName,":").concat(i.id)}},{key:"getQueryParamIncludes",value:function(){var i=rd(this,"request.queryParams.include");return i&&!Array.isArray(i)&&(i=i.split(",")),i}},{key:"hasQueryParamIncludes",value:function(){return!!this.getQueryParamIncludes()}},{key:"typeKeyForModel",value:function(i){return x(this._container.inflector.pluralize(i.modelName))}},{key:"getCoalescedIds",value:function(i){var a=i.queryParams&&i.queryParams["filter[id]"];return typeof a=="string"?a.split(","):a}},{key:"shouldIncludeLinkageData",value:function(i,a){return!1}}]),e})(ne);qd.prototype.alwaysIncludeLinkageData=!1;var Td=(function(){function r(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E(this,r),this.schema=t,this._serializerMap=e}return M(r,[{key:"normalize",value:function(e,n){return this.serializerFor(n).normalize(e)}},{key:"serialize",value:function(e,n){var i=this;if(this.request=n,this._isModelOrCollection(e)){var a=this.serializerFor(e.modelName);return a.serialize(e,n)}else return Array.isArray(e)&&e.some(this._isCollection)?e.reduce(function(s,o){var u=i.serializerFor(o.modelName);return u.embed?s[i._container.inflector.pluralize(o.modelName)]=u.serialize(o,n):s=Object.assign(s,u.serialize(o,n)),s},{}):e}},{key:"serializerFor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.explicit,a=i===void 0?!1:i,s=e&&this._serializerMap&&this._serializerMap[w(e)];return a?A(!!s,"You passed in ".concat(e," as an explicit serializer type but that serializer doesn't exist.")):(s=s||this._serializerMap.application||ne,A(!s||s.prototype.embed||s.prototype.root||new s instanceof qd,"You cannot have a serializer that sideloads (embed: false) and disables the root (root: false).")),new s(this,e,this.request)}},{key:"_isModel",value:function(e){return e instanceof at}},{key:"_isCollection",value:function(e){return e instanceof fe||e instanceof X}},{key:"_isModelOrCollection",value:function(e){return this._isModel(e)||this._isCollection(e)}},{key:"registerSerializers",value:function(e){var n=this._serializerMap||{};this._serializerMap=Object.assign(n,e)}},{key:"getCoalescedIds",value:function(e,n){return this.serializerFor(n).getCoalescedIds(e)}}]),r})(),Is={},Cs={},Fs={},Id=(function(){function r(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E(this,r),A(t,"A schema requires a db"),this.db=t,this._registry={},this._dependentAssociations={polymorphic:[]},this.registerModels(e),this.isSaving={}}return M(r,[{key:"registerModels",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Sm(n,function(i,a){e.registerModel(a,n[a])})}},{key:"registerModel",value:function(e,n){var i=this,a=w(e),s=x(a);n=n.extend(),this._registry[a]=this._registry[a]||{class:null,foreignKeys:[]},this._registry[a].class=n,n.prototype._schema=this,n.prototype.modelName=s,n.prototype.hasManyAssociations={},n.prototype.hasManyAssociationFks={},n.prototype.belongsToAssociations={},n.prototype.belongsToAssociationFks={},n.prototype.associationKeys=new Set,n.prototype.associationIdKeys=new Set,n.prototype.dependentAssociations=[];var o={};for(var u in n.prototype)if(n.prototype[u]instanceof It){var c=n.prototype[u];c.name=u,c.modelName=c.modelName||this.toModelName(u),c.ownerModelName=s,c.setSchema(this);var f=c.getForeignKeyArray(),l=Z(f,2),h=l[0],d=l[1];o[h]=o[h]||[],A(!o[h].includes(d),"Your '".concat(e,"' model definition has multiple possible inverse relationships of type '").concat(h,"'. Please use explicit inverses.")),o[h].push(d),this._addForeignKeyToRegistry(h,d),c.addMethodsToModelClass(n,u)}var v=this.toCollectionName(s);return this.db[v]||this.db.createCollection(v),this[v]={camelizedModelName:a,new:function(y){return i.new(a,y)},create:function(y){return i.create(a,y)},all:function(y){return i.all(a,y)},find:function(y){return i.find(a,y)},findBy:function(y){return i.findBy(a,y)},findOrCreateBy:function(y){return i.findOrCreateBy(a,y)},where:function(y){return i.where(a,y)},none:function(y){return i.none(a,y)},first:function(y){return i.first(a,y)}},this}},{key:"modelFor",value:function(e){return this._registry[e]}},{key:"new",value:function(e,n){return this._instantiateModel(x(e),n)}},{key:"create",value:function(e,n){return this.new(e,n).save()}},{key:"all",value:function(e){var n=this.collectionForType(e);return this._hydrate(n,x(e))}},{key:"none",value:function(e){return this._hydrate([],x(e))}},{key:"find",value:function(e,n){var i=this.collectionForType(e),a=i.find(n);return Array.isArray(n)&&A(a.length===n.length,"Couldn't find all ".concat(this._container.inflector.pluralize(e)," with ids: (").concat(n.join(","),") (found ").concat(a.length," results, but was looking for ").concat(n.length,")")),this._hydrate(a,x(e))}},{key:"findBy",value:function(e,n){var i=this.collectionForType(e),a=i.findBy(n);return this._hydrate(a,x(e))}},{key:"findOrCreateBy",value:function(e,n){var i=this.collectionForType(e),a=i.findBy(n),s;return a?s=this._hydrate(a,x(e)):s=this.create(e,n),s}},{key:"where",value:function(e,n){var i=this.collectionForType(e),a=i.where(n);return this._hydrate(a,x(e))}},{key:"first",value:function(e){var n=this.collectionForType(e),i=n[0];return this._hydrate(i,x(e))}},{key:"modelClassFor",value:function(e){var n=this._registry[w(e)];return A(n,"Model not registered: ".concat(e)),n.class.prototype}},{key:"addDependentAssociation",value:function(e,n){e.isPolymorphic?this._dependentAssociations.polymorphic.push(e):(this._dependentAssociations[n]=this._dependentAssociations[n]||[],this._dependentAssociations[n].push(e))}},{key:"dependentAssociationsFor",value:function(e){var n=this._dependentAssociations[e]||[],i=this._dependentAssociations.polymorphic||[];return n.concat(i)}},{key:"associationsFor",value:function(e){var n=this.modelClassFor(e);return Object.assign({},n.belongsToAssociations,n.hasManyAssociations)}},{key:"hasModelForModelName",value:function(e){return this.modelFor(w(e))}},{key:"collectionForType",value:function(e){var n=this.toCollectionName(e);return A(this.db[n],"You're trying to find model(s) of type ".concat(e," but this collection doesn't exist in the database.")),this.db[n]}},{key:"toCollectionName",value:function(e){if(typeof Is[e]!="string"){var n=x(e),i=w(this._container.inflector.pluralize(n));Is[e]=i}return Is[e]}},{key:"toInternalCollectionName",value:function(e){if(typeof Cs[e]!="string"){var n="_".concat(this.toCollectionName(e));Cs[e]=n}return Cs[e]}},{key:"toModelName",value:function(e){if(typeof Fs[e]!="string"){var n=x(e),i=this._container.inflector.singularize(n);Fs[e]=i}return Fs[e]}},{key:"_addForeignKeyToRegistry",value:function(e,n){this._registry[e]=this._registry[e]||{class:null,foreignKeys:[]};var i=this._registry[e].foreignKeys;i.includes(n)||i.push(n)}},{key:"_instantiateModel",value:function(e,n){var i=this._modelFor(e),a=this._foreignKeysFor(e);return new i(this,e,n,a)}},{key:"_modelFor",value:function(e){return this._registry[w(e)].class}},{key:"_foreignKeysFor",value:function(e){return this._registry[w(e)].foreignKeys}},{key:"_hydrate",value:function(e,n){if(Array.isArray(e)){var i=e.map(function(a){return this._instantiateModel(n,a)},this);return new fe(n,i)}else return e?this._instantiateModel(n,e):null}}]),r})(),ob={Db:Ad,Association:It,RouteHandler:Rd,BaseRouteHandler:yr,Serializer:ne,SerializerRegistry:Td,Schema:Id},ub={singularize:Yh,pluralize:Gh},Cd=(function(){function r(){E(this,r),this.inflector=ub}return M(r,[{key:"register",value:function(e,n){this[e]=n}},{key:"create",value:function(e){var n=ob[e];n.prototype._container=this;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return ae(n,a)}}]),r})(),je=new Cd;Ad.prototype._container=je;It.prototype._container=je;yr.prototype._container=je;Rd.prototype._container=je;ne.prototype._container=je;Td.prototype._container=je;Id.prototype._container=je;var cb=["http://localhost:0/chromecheckurl","http://localhost:30820/socket.io",function(r){return/.+\.hot-update.json$/.test(r.url)}],Us={coalesce:!1,timing:void 0};function lb(r){if(!r||z(r)!=="object")return!1;for(var t=Object.keys(Us),e=Object.keys(r),n=0;n<e.length;n++){var i=e[n];if(t.indexOf(i)>-1)return!0}return!1}function fb(r){var t=r.splice(-1),e=Z(t,1),n=e[0];lb(n)?n=Ls({},Us,n):(r.push(n),n=Us);for(var i=2-r.length;i-- >0;)r.push(void 0);return r.push(n),r}var hb=(function(){function r(){E(this,r),D(this,"urlPrefix",void 0),D(this,"namespace",void 0),D(this,"timing",void 0),D(this,"passthroughChecks",void 0),D(this,"pretender",void 0),D(this,"mirageServer",void 0),D(this,"trackRequests",void 0)}return M(r,[{key:"create",value:function(e,n){var i=this;this.mirageServer=e,this.pretender=this._create(e,n),e.pretender=this.pretender,this.passthroughChecks=this.passthroughChecks||[],this.config(n),[["get"],["post"],["put"],["delete","del"],["patch"],["head"],["options"]].forEach(function(a){var s=Z(a,2),o=s[0],u=s[1];i[o]=function(c){for(var f,l=arguments.length,h=new Array(l>1?l-1:0),d=1;d<l;d++)h[d-1]=arguments[d];var v=fb(h),p=Z(v,3),y=p[0],m=p[1],g=p[2],b=e.registerRouteHandler(o,c,y,m,g),_=i._getFullPath(c),T=g.timing!==void 0?g.timing:function(){return i.timing};return(f=i.pretender)===null||f===void 0?void 0:f[o](_,b,T)},e[o]=i[o],u&&(i[u]=i[o],e[u]=i[o])})}},{key:"config",value:function(e){var n,i,a=typeof e.useDefaultPassthroughs<"u"?e.useDefaultPassthroughs:!0;a&&this._configureDefaultPassthroughs();var s=e.trackRequests!==void 0&&e.trackRequests!==this.trackRequests;A(!s,"You cannot modify Pretender's request tracking once the server is created"),this.timing=(n=(i=e.timing)!==null&&i!==void 0?i:this.timing)!==null&&n!==void 0?n:400,this.urlPrefix=this.urlPrefix||e.urlPrefix||"",this.namespace=this.namespace||e.namespace||""}},{key:"_configureDefaultPassthroughs",value:function(){var e=this;cb.forEach(function(n){e.passthrough(n)})}},{key:"_create",value:function(e,n){if(typeof window<"u")return this.trackRequests=n.trackRequests||!1,new pr(function(){this.passthroughRequest=function(a,s,o){e.shouldLog()&&console.log("Mirage: Passthrough request for ".concat(a.toUpperCase()," ").concat(o.url))},this.handledRequest=function(a,s,o){if(e.shouldLog()){console.groupCollapsed("Mirage: [".concat(o.status,"] ").concat(a.toUpperCase()," ").concat(o.url));var u=o.requestBody,c=o.responseText,f,l;try{f=JSON.parse(u)}catch{f=u}try{l=JSON.parse(c)}catch{l=c}console.groupCollapsed("Response"),console.log(l),console.groupEnd(),console.groupCollapsed("Request (data)"),console.log(f),console.groupEnd(),console.groupCollapsed("Request (raw)"),console.log(o),console.groupEnd(),console.groupEnd()}};var i=this.checkPassthrough;this.checkPassthrough=function(a){var s=e.passthroughChecks.some(function(u){return u(a)});if(s){var o=a.url.includes("?")?a.url.substr(0,a.url.indexOf("?")):a.url;this[a.method.toLowerCase()](o,this.passthrough)}return i.apply(this,arguments)},this.unhandledRequest=function(a,s){s=decodeURI(s);var o="";this.namespace===""?o="There is no existing namespace defined. Please define one":o="The existing namespace is ".concat(this.namespace),A("Your app tried to ".concat(a," '").concat(s,"', but there was no route defined to handle this request. Define a route for this endpoint in your routes() config. Did you forget to define a namespace? ").concat(o))}},{trackRequests:this.trackRequests})}},{key:"passthrough",value:function(){for(var e=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(typeof window<"u"){var s=["get","post","put","delete","patch","options","head"],o=i[i.length-1];i.length===0?i=["/**","/"]:i.length>1&&Array.isArray(o)&&(s=i.pop()),i.forEach(function(u){typeof u=="function"?e.passthroughChecks.push(u):s.forEach(function(c){var f=e._getFullPath(u);e.pretender[c](f,e.pretender.passthrough)})})}}},{key:"_getFullPath",value:function(e){e=e[0]==="/"?e.slice(1):e;var n="",i=this.urlPrefix?this.urlPrefix.trim():"",a="";if(this.urlPrefix&&this.namespace&&(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(a=this.namespace.substring(0,this.namespace.length-1).substring(1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(a=this.namespace.substring(1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"&&(a=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(a=this.namespace)),this.namespace&&!this.urlPrefix){if(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(a=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(a=this.namespace),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"){var s=this.namespace.substring(0,this.namespace.length-1);a="/".concat(s)}this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(a="/".concat(this.namespace))}return this.namespace||(a=""),/^https?:\/\//.test(e)?n+=e:(i.length&&(n+=i[i.length-1]==="/"?i:"".concat(i,"/")),n+=a,n[n.length-1]!=="/"&&(n+="/"),n+=e,/^https?:\/\//.test(n)||(n="/".concat(n),n=n.replace(/\/+/g,"/"))),n}},{key:"start",value:function(){}},{key:"shutdown",value:function(){this.pretender.shutdown()}}]),r})(),Es={},db={singularize:Yh,pluralize:Gh};function vb(r){return new pb(r)}var pb=(function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};E(this,r),this._container=new Cd,this.config(t),this.db=this.db||void 0,this.schema=this.schema||void 0,this.middleware=[]}return M(r,[{key:"namespace",get:function(){return this.interceptor.namespace},set:function(e){this.interceptor.namespace=e}},{key:"urlPrefix",get:function(){return this.interceptor.urlPrefix},set:function(e){this.interceptor.urlPrefix=e}},{key:"timing",get:function(){return this.interceptor.timing},set:function(e){this.interceptor.timing=e}},{key:"passthroughChecks",get:function(){return this.interceptor.passthroughChecks},set:function(e){this.interceptor.passthroughChecks=e}},{key:"config",value:function(){var e,n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.interceptor||(i.interceptor=new hb),this.interceptor?this.interceptor.config(i):(this.interceptor=i.interceptor,this.interceptor.create(this,i));var a=i.environment&&this.environment&&this.environment!==i.environment;A(!a,"You cannot modify Mirage's environment once the server is created"),this.environment=i.environment||this.environment||"development",i.routes&&(A(!i.baseConfig,"The routes option is an alias for the baseConfig option. You can't pass both options into your server definition."),i.baseConfig=i.routes),i.seeds&&(A(!i.scenarios,"The seeds option is an alias for the scenarios.default option. You can't pass both options into your server definition."),i.scenarios={default:i.seeds}),this._config=i,this.inflector=i.inflector||db,this._container.register("inflector",this.inflector),this.logging=i.logging!==void 0?this.logging:void 0,this.testConfig=this.testConfig||void 0,this.trackRequests=i.trackRequests,this.db?this.db.registerIdentityManagers(i.identityManagers):this.db=this._container.create("Db",void 0,i.identityManagers),this.schema?(this.schema.registerModels(i.models),this.serializerOrRegistry.registerSerializers(i.serializers||{})):(this.schema=this._container.create("Schema",this.db,i.models),this.serializerOrRegistry=this._container.create("SerializerRegistry",this.schema,i.serializers));var s=this._hasModulesOfType(i,"factories"),o=i.scenarios&&Object.prototype.hasOwnProperty.call(i.scenarios,"default");i.baseConfig&&this.loadConfig(i.baseConfig),this.isTest()&&(this.loadConfig(i.testConfig),typeof window<"u"&&(window.server=this)),this.isTest()&&s?this.loadFactories(i.factories):!this.isTest()&&o?(this.loadFactories(i.factories),i.scenarios.default(this)):this.loadFixtures(),(e=(n=this.interceptor).start)===null||e===void 0||e.call(n)}},{key:"isTest",value:function(){return this.environment==="test"}},{key:"shouldLog",value:function(){return typeof this.logging<"u"?this.logging:!this.isTest()}},{key:"loadConfig",value:function(e){e?.call(this),this.timing=this.isTest()?0:this.timing||0}},{key:"passthrough",value:function(){for(var e,n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];(e=(n=this.interceptor).passthrough)===null||e===void 0||e.call.apply(e,[n].concat(a))}},{key:"loadFixtures",value:function(){for(var e=this._config.fixtures,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(i.length){var s=i.map(w),o=s.filter(function(u){return!e[u]});if(o.length)throw new Error("Fixtures not found: ".concat(o.join(", ")));e=Om.apply(void 0,[e].concat(Ze(s)))}this.db.loadData(e)}},{key:"loadFactories",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this._factoryMap||{};this._factoryMap=Ls(i,n),Object.keys(n).forEach(function(a){var s=e.schema.toCollectionName(a);e.db.createCollection(s)})}},{key:"factoryFor",value:function(e){var n=w(e);if(this._factoryMap&&this._factoryMap[n])return this._factoryMap[n]}},{key:"build",value:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s=i.filter(function(p){return p&&typeof p=="string"}),o=ms(i,function(p){return Ns(p)}),u=w(e);this.factorySequences=this.factorySequences||{},this.factorySequences[u]=this.factorySequences[u]+1||0;var c=this.factoryFor(e);if(c){c=c.extend({});var f=c.attrs||{};this._validateTraits(s,c,e);var l=this._mergeExtensions(f,s,o);this._mapAssociationsFromAttributes(e,f,o),this._mapAssociationsFromAttributes(e,l);var h=c.extend(l),d=new h,v=this.factorySequences[u];return d.build(v)}else return o}},{key:"buildList",value:function(e,n){A(Df(n),"second argument has to be an integer, you passed: ".concat(z(n)));for(var i=[],a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];for(var u=[e].concat(s),c=0;c<n;c++)i.push(this.build.apply(this,u));return i}},{key:"create",value:function(e){var n=this;A(this._modelOrFactoryExistsForType(e),"You called server.create('".concat(e,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name."));for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var o=a.filter(function(y){return y&&typeof y=="string"}),u=ms(a,function(y){return Ns(y)}),c=ms(a,function(y){return y&&Array.isArray(y)}),f=this.build.apply(this,[e].concat(Ze(o),[u])),l;if(this.schema&&this.schema[this.schema.toCollectionName(e)]){var h=this.schema[this.schema.toCollectionName(e)];l=h.create(f)}else{var d,v;c?d=c:(v=this.schema?this.schema.toInternalCollectionName(e):"_".concat(this.inflector.pluralize(e)),d=this.db[v]),A(d,"You called server.create('".concat(e,"') but no model or factory was found.")),l=d.insert(f)}var p=this.factoryFor(e);return p&&p.extractAfterCreateCallbacks({traits:o}).forEach(function(y){y(l,n)}),l}},{key:"createList",value:function(e,n){A(this._modelOrFactoryExistsForType(e),"You called server.createList('".concat(e,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name.")),A(Df(n),"second argument has to be an integer, you passed: ".concat(z(n)));for(var i=[],a=this.schema?this.schema.toInternalCollectionName(e):"_".concat(this.inflector.pluralize(e)),s=this.db[a],o=arguments.length,u=new Array(o>2?o-2:0),c=2;c<o;c++)u[c-2]=arguments[c];for(var f=[e].concat(u,[s]),l=0;l<n;l++)i.push(this.create.apply(this,f));return i}},{key:"shutdown",value:function(){typeof window<"u"&&this.interceptor.shutdown(),typeof window<"u"&&this.environment==="test"&&(window.server=void 0)}},{key:"resource",value:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.only,s=i.except,o=i.path;if(e=this.inflector.pluralize(e),o=o||"/".concat(e),a=a||[],s=s||[],a.length>0&&s.length>0)throw"cannot use both :only and :except options";var u={index:{methods:["get"],path:"".concat(o)},show:{methods:["get"],path:"".concat(o,"/:id")},create:{methods:["post"],path:"".concat(o)},update:{methods:["put","patch"],path:"".concat(o,"/:id")},delete:{methods:["del"],path:"".concat(o,"/:id")}},c=Object.keys(u),f=a.length>0&&a||s.length>0&&c.filter(function(l){return s.indexOf(l)===-1})||c;f.forEach(function(l){var h=u[l];h.methods.forEach(function(d){return o===e?n[d](h.path):n[d](h.path,e)})})}},{key:"_serialize",value:function(e){return typeof e=="string"?e:JSON.stringify(e)}},{key:"registerRouteHandler",value:function(e,n,i,a,s){var o=this,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:this.middleware,c=this._container.create("RouteHandler",{schema:this.schema,verb:e,rawHandler:i,customizedCode:a,options:s,path:n,serializerOrRegistry:this.serializerOrRegistry,middleware:u});return function(f){return c.handle(f).then(function(l){var h=Z(l,3),d=h[0],v=h[1],p=h[2];return[d,v,o._serialize(p)]})}}},{key:"_hasModulesOfType",value:function(e,n){var i=e[n];return i?Object.keys(i).length>0:!1}},{key:"_typeIsPluralForModel",value:function(e){if(typeof Es[e]!="boolean"){var n=this._modelOrFactoryExistsForTypeOrCollectionName(e),i=e===this.inflector.pluralize(e),a=this.inflector.singularize(e)===this.inflector.pluralize(e),s=i&&!a&&n;Es[e]=s}return Es[e]}},{key:"_modelOrFactoryExistsForType",value:function(e){var n=this.schema&&this.schema.modelFor(w(e)),i=this.db[this.schema.toInternalCollectionName(e)];return(n||i)&&!this._typeIsPluralForModel(e)}},{key:"_modelOrFactoryExistsForTypeOrCollectionName",value:function(e){var n=this.schema&&this.schema.modelFor(w(e)),i=this.db[this.schema.toInternalCollectionName(e)];return n||i}},{key:"_validateTraits",value:function(e,n,i){e.forEach(function(a){if(!n.isTrait(a))throw new Error("'".concat(a,"' trait is not registered in '").concat(i,"' factory"))})}},{key:"_mergeExtensions",value:function(e,n,i){var a=n.map(function(s){return e[s].extension});return a.push(i||{}),a.reduce(function(s,o){return Ls(s,o)},{})}},{key:"_mapAssociationsFromAttributes",value:function(e,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n||{}).filter(function(s){return Q_(n[s])}).forEach(function(s){var o=i.schema.modelClassFor(e),u=o.associationFor(s);A(u&&u instanceof ht,"You're using the `association` factory helper on the '".concat(s,"' attribute of your ").concat(e," factory, but that attribute is not a `belongsTo` association."));var c=u&&u instanceof ht&&u.modelName===e;A(!c,"You're using the association() helper on your ".concat(e," factory for ").concat(s,", which is a belongsTo self-referential relationship. You can't do this as it will lead to infinite recursion. You can move the helper inside of a trait and use it selectively."));var f=u&&u.opts&&u.opts.polymorphic;A(!f,"You're using the association() helper on your ".concat(e," factory for ").concat(s,", which is a polymorphic relationship. This is not currently supported."));var l=n[s],h="".concat(w(s),"Id");a[s]||(n[h]=i.create.apply(i,[u.modelName].concat(Ze(l.traitsAndOverrides))).id),delete n[s]})}}]),r})(),nh=ne.extend({serializeIds:"always",normalizeIds:!0,keyForModel:function(t){return ce(t)},keyForAttribute:function(t){return t=ne.prototype.keyForAttribute.apply(this,arguments),ce(t)},keyForRelationship:function(t){return this._container.inflector.pluralize(ce(t))},keyForEmbeddedRelationship:function(t){return ce(t)},keyForRelationshipIds:function(t){return"".concat(ce(this._container.inflector.singularize(t)),"_ids")},keyForForeignKey:function(t){return"".concat(ce(t),"_id")},keyForPolymorphicForeignKeyId:function(t){return"".concat(ce(t),"_id")},keyForPolymorphicForeignKeyType:function(t){return"".concat(ce(t),"_type")},normalize:function(t){var e=this,n=Object.keys(t)[0],i=t[n],a=w(n),s=this.schema.modelClassFor(a),o=s.belongsToAssociations,u=s.hasManyAssociations,c=Object.keys(o),f=Object.keys(u);this.primaryKey!=="id"&&(i.id=i[this.primaryKey],delete i[this.primaryKey]);var l={data:{type:this._container.inflector.pluralize(n),attributes:{}}};i.id&&(l.data.id=i.id);var h={};return Object.keys(i).forEach(function(d){if(d!=="id")if(e.normalizeIds)if(c.includes(d)){var v=o[d],p=v.modelName;h[x(d)]={data:{type:p,id:i[d]}}}else if(f.includes(d)){var y=u[d],m=y.modelName,g=i[d].map(function(b){return{type:m,id:b}});h[x(d)]={data:g}}else l.data.attributes[x(d)]=i[d];else l.data.attributes[x(d)]=i[d]}),Object.keys(h).length&&(l.data.relationships=h),l},getCoalescedIds:function(t){return t.queryParams&&t.queryParams.ids}});nh.extend({serializeIds:"always",keyForModel:function(t){return w(t)},keyForAttribute:function(t){return t=nh.prototype.keyForAttribute.apply(this,arguments),w(t)},keyForRelationship:function(t){return w(this._container.inflector.pluralize(t))},keyForEmbeddedRelationship:function(t){return w(t)},keyForRelationshipIds:function(t){return w(this._container.inflector.pluralize(t))},keyForForeignKey:function(t){return w(this._container.inflector.singularize(t))},getCoalescedIds:function(t){return t.queryParams&&t.queryParams.ids}});const yb=at.extend({}),gb=at.extend({});function mb({environment:r="development"}={}){return vb({environment:r,models:{user:yb,todo:gb},seeds(t){const e=Date.now(),n=1440*60*1e3,i=()=>Math.floor(Math.random()*(14400*1e3)),a=e-2*n,s=e-n;t.create("user",{id:"1",name:"Pinka Court",login:"pkionrkta"}),t.create("todo",{id:"123",name:"—á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å",isComplete:!1,timeCreate:a+i(),timeDone:null}),t.create("todo",{id:"100",name:"—Å–¥–µ–ª–∞–Ω–æ",isComplete:!0,timeCreate:a+i(),timeDone:s+i()}),t.create("todo",{id:"124",name:"qwerty",isComplete:!1,timeCreate:a+i(),timeDone:null})},routes(){this.urlPrefix="",this.namespace="",this.get("/user",t=>t.first("user")),this.get("/todos",t=>t.all("todo").models),this.post("/create",(t,e)=>{const n=JSON.parse(e.requestBody);return t.create("todo",{name:n.name,isComplete:!1,timeCreate:Date.now(),timeDone:null}),t.all("todo").models}),this.post("/change",(t,e)=>{const n=JSON.parse(e.requestBody),i=n.id,a=t.find("todo",i);return a&&(n.isComplete===!0&&!a.isComplete?n.timeDone=Date.now():n.isComplete===!1&&(n.timeDone=null),a.update(n)),t.all("todo").models}),this.post("/delete/:id",(t,e)=>{const n=e.params.id;return t.find("todo",n)?.destroy(),t.all("todo").models}),this.passthrough()}})}mb({environment:"development"});const ih=document.getElementById("root");ih instanceof HTMLElement&&wv(()=>_e(Lp,{}),ih);
